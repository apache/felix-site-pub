
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<HTML>
  <HEAD>
    <TITLE>Apache Felix - Using iPOJO introspection API</TITLE>
    <LINK rel="stylesheet" href="http://felix.apache.org/site/media.data/site.css" type="text/css" media="all">
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </HEAD>
  <BODY>
    <DIV class="title"><DIV class="logo"><A href="http://felix.apache.org/site/index.html"><IMG border="0" alt="Apache Felix" src="http://felix.apache.org/site/media.data/logo.png"></A></DIV><DIV class="header"><A href="http://www.apache.org/"><IMG border="0" alt="Apache" src="http://felix.apache.org/site/media.data/apache.png"></A></DIV></DIV>
    <DIV class="menu">
<UL>
	<LI><A href="news.html" title="news">news</A></LI>
	<LI><A href="http://www.apache.org/licenses/" class="external-link" rel="nofollow">license</A></LI>
	<LI><A href="http://felix.apache.org/site/downloads.cgi" class="external-link" rel="nofollow">downloads</A></LI>
	<LI><A href="documentation.html" title="documentation">documentation</A></LI>
	<LI><A href="mailinglists.html" title="mailinglists">mailing lists</A></LI>
	<LI><A href="contributing.html" title="Contributing">contributing</A></LI>
	<LI><A href="http://www.apache.org/" class="external-link" rel="nofollow">asf</A></LI>
	<LI><A href="http://www.apache.org/security/" class="external-link" rel="nofollow">security</A></LI>
	<LI><A href="http://www.apache.org/foundation/sponsorship.html" class="external-link" rel="nofollow">sponsorship</A></LI>
	<LI><A href="http://www.apache.org/foundation/thanks.html" class="external-link" rel="nofollow">sponsors</A>
<!-- ApacheCon Ad -->
<IFRAME src="http://www.apache.org/ads/button.html" style="border-width:0; float: left" frameborder="0" scrolling="no" width="135" height="135"></IFRAME>
<P style="height: 100px">
<!-- ApacheCon Ad --></LI>
</UL>
    </DIV>
    <DIV class="main">
<STYLE type="text/css">
 @import url(http://felix.apache.org/ipojo/site/superfish.css); 
</STYLE>

<STYLE type="text/css">
 @import url(http://felix.apache.org/ipojo/site/style.css); 
</STYLE>

<P>
<SCRIPT class="javascript" src="http://cwiki.apache.org/confluence/download/resources/confluence.ext.code:code/shCore.js"></SCRIPT>
<SCRIPT class="javascript" src="http://cwiki.apache.org/confluence/download/resources/confluence.ext.code:code/shBrushCSharp.js"></SCRIPT>
<SCRIPT class="javascript" src="http://cwiki.apache.org/confluence/download/resources/confluence.ext.code:code/shBrushPhp.js"></SCRIPT>
<SCRIPT class="javascript" src="http://cwiki.apache.org/confluence/download/resources/confluence.ext.code:code/shBrushJScript.js"></SCRIPT>
<SCRIPT class="javascript" src="http://cwiki.apache.org/confluence/download/resources/confluence.ext.code:code/shBrushVb.js"></SCRIPT>
<SCRIPT class="javascript" src="http://cwiki.apache.org/confluence/download/resources/confluence.ext.code:code/shBrushSql.js"></SCRIPT>
<SCRIPT class="javascript" src="http://cwiki.apache.org/confluence/download/resources/confluence.ext.code:code/shBrushXml.js"></SCRIPT>
<SCRIPT class="javascript" src="http://cwiki.apache.org/confluence/download/resources/confluence.ext.code:code/shBrushShell.js"></SCRIPT>
<SCRIPT class="javascript" src="http://cwiki.apache.org/confluence/download/resources/confluence.ext.code:code/shBrushDelphi.js"></SCRIPT>
<SCRIPT class="javascript" src="http://cwiki.apache.org/confluence/download/resources/confluence.ext.code:code/shBrushPython.js"></SCRIPT>
<SCRIPT class="javascript" src="http://cwiki.apache.org/confluence/download/resources/confluence.ext.code:code/shBrushJava.js"></SCRIPT>

<SCRIPT type="text/javascript" src="http://felix.apache.org/ipojo/site/jquery-1.js"></SCRIPT>
<SCRIPT type="text/javascript" src="http://felix.apache.org/ipojo/site/hoverIntent.js"></SCRIPT>
<SCRIPT type="text/javascript" src="http://felix.apache.org/ipojo/site/superfish.js"></SCRIPT> 
<SCRIPT type="text/javascript" src="http://felix.apache.org/ipojo/site/supersubs.js"></SCRIPT> 

<SCRIPT type="text/javascript"> 
 
    $(document).ready(function(){ 
        $("ul.sf-menu").supersubs({ 
            minWidth:    14,   // minimum width of sub-menus in em units 
            maxWidth:    30,   // maximum width of sub-menus in em units 
            extraWidth:  1     // extra width can ensure lines don't sometimes turn over 
                               // due to slight rounding differences and font-family 
        }).superfish();  // call supersubs first, then superfish, so that subs are 
                         // not display:none when measuring. Call before initialising 
                         // containing tabs for same reason. 
    }); 
 
</SCRIPT>
<DIV class="main">
<DIV class="page-header">
<IMG src="http://felix.apache.org/ipojo/site/header.png" class="header">
<A href="http://ipojo.org/"><IMG src="http://felix.apache.org/ipojo/site/ipojo.png" width="225" class="header-logo"></A>
<UL class="sf-menu sf-js-enabled sf-shadow" id="ipojo-menu">
<LI class="current">
<!-- Menu Overview -->
<A href="" class="sf-with-ul">Overview<SPAN class="sf-sub-indicator"> &raquo;</SPAN><SPAN class="sf-sub-indicator"> &raquo;</SPAN></A>
<UL>
	<LI>
	<A href="apache-felix-ipojo.html" title="Apache Felix iPOJO">Home</A>							
	</LI>
	<LI>
	<A href="apache-felix-ipojo-why-choose-ipojo.html" title="apache-felix-ipojo-why-choose-ipojo">Why choose iPOJO</A>
	</LI>
	<LI>
	<A href="apache-felix-ipojo-successstories.html" title="apache-felix-ipojo-successstories">Success stories</A>
	</LI>
	<LI>
	<A href="apache-felix-ipojo-feature-overview.html" title="Apache Felix iPOJO Feature Overview">Features</A>
	</LI>
</UL>
</LI>	

<LI class="">			
<!-- Menu download -->
<LI>
<A href="download.html" title="Download">Download </A>
</LI>

<LI class="">					
<!-- Menu Documentation -->
<A href="" class="sf-with-ul">Documentation<SPAN class="sf-sub-indicator"> &raquo;</SPAN><SPAN class="sf-sub-indicator"> &raquo;</SPAN></A>
<UL>
    <!-- sub- menu : getting started -->
    <LI class="">
    <A href="" class="sf-with-ul">Getting Started<SPAN class="sf-sub-indicator"> &raquo;</SPAN><SPAN class="sf-sub-indicator"> &raquo;</SPAN></A>
    <UL>
     <LI><A href="ipojo-in-10-minutes.html" title="iPOJO in 10 minutes">iPOJO in 10 minutes</A></LI>
     <LI><A href="how-to-use-ipojo-annotations.html" title="How to use iPOJO Annotations">Using Annotations</A></LI>
     <LI><A href="ipojo-hello-word-maven-based-tutorial.html" title="iPOJO Hello Word (Maven-Based) tutorial">Maven tutorial</A></LI>
     <LI><A href="ipojo-advanced-tutorial.html" title="iPOJO Advanced Tutorial">Advanced tutorial</A></LI>
     <LI><A href="apache-felix-ipojo-dosgi.html" title="apache-felix-ipojo-dosgi">Using Distributed OSGi</A></LI>
     <LI><A href="ipojo-composition-tutorial.html" title="iPOJO Composition Tutorial">Application Composition</A></LI>
    </UL>
    </LI> <!-- end of getting started -->
    <!-- sub menu : Describing Components -->
     <LI class="">
        <A href="http://felix.apache.org/site/describing-components.html" class="sf-with-ul">Describing components<SPAN class="sf-sub-indicator"> &raquo;</SPAN><SPAN class="sf-sub-indicator"> &raquo;</SPAN></A>
        <UL>
        <LI><A href="service-requirement-handler.html" title="Service Requirement Handler">Requiring a service</A></LI>
        <LI><A href="providing-osgi-services.html" title="Providing OSGi services">Providing a service</A></LI>
        <LI><A href="lifecycle-callback-handler.html" title="Lifecycle Callback Handler">Lifecycle management</A></LI>
        <LI><A href="configuration-handler.html" title="Configuration Handler">Configuration</A></LI>
        <LI><A href="architecture-handler.html" title="Architecture Handler">Introspection</A></LI>
        <LI><A href="controller-lifecycle-handler.html" title="Controller Lifecycle Handler">Impacting the lifecycle</A></LI>
        <LI><A href="event-admin-handlers.html" title="Event Admin Handlers">Asynchronous communication</A></LI>
        <LI><A href="ipojo-jmx-handler.html" title="iPOJO JMX Handler">JMX management</A></LI>
        <LI><A href="extender-pattern-handler.html" title="Extender Pattern Handler">Extender pattern</A></LI>
        <LI><A href="white-board-pattern-handler.html" title="White Board Pattern Handler">Whiteboard pattern</A></LI>
        <LI><A href="temporal-service-dependency.html" title="Temporal Service Dependency">Temporal dependencies</A></LI>
        </UL>
     </LI> <!-- End of describing components -->
    <!-- sub- menu : User Guide -->
    <LI class="">
    <A href="" class="sf-with-ul">User Guide<SPAN class="sf-sub-indicator"> &raquo;</SPAN><SPAN class="sf-sub-indicator"> &raquo;</SPAN></A>
        <UL>
        <LI><A href="combining-ipojo-and-configuration-admin.html" title="Combining iPOJO and Configuration Admin">iPOJO and config admin</A></LI>
        <LI><A href="how-to-use-ipojo-factories.html" title="How-to use iPOJO factories">Factories and Instances</A></LI>
        <LI><A href="using-xml-schemas.html" title="Using XML Schemas">XML Schemas</A></LI>
        <LI><A href="apache-felix-ipojo-api.html" title="apache-felix-ipojo-api">API</A></LI>
        <LI><A href="apache-felix-ipojo-testing-components.html" title="apache-felix-ipojo-testing-components">Testing components</A></LI>
        <LI><A href="apache-felix-ipojo-eclipse-integration.html" title="apache-felix-ipojo-eclipse-integration">Eclipse Integration</A></LI>
        <LI><A href="ipojo-faq.html" title="iPOJO FAQ">FAQ</A></LI>
        <LI><A href="ipojo-reference-card.html" title="iPOJO-Reference-Card">Reference Card</A></LI>
        </UL>
    </LI> <!-- end of user guide -->
    <!-- sub- menu : Dev Guide -->
    <LI> 
    <A href="" class="sf-with-ul">Advanced Topics<SPAN class="sf-sub-indicator"> &raquo;</SPAN><SPAN class="sf-sub-indicator"> &raquo;</SPAN></A>
       <UL>
        <LI><A href="http://felix.apache.org/ipojo/api/1.6.0" class="external-link" rel="nofollow">Javadoc</A></LI>
        <LI><A href="how-to-write-your-own-handler.html" title="How to write your own handler">Handler development</A></LI>
        <LI><A href="how-to-use-ipojo-manipulation-metadata.html" title="How to use iPOJO Manipulation Metadata">Manipulation Metadata </A></LI>
        <LI><A href="dive-into-the-ipojo-manipulation-depths.html" title="Dive into the iPOJO Manipulation depths">Dive into the iPOJO Manipulation depths</A></LI>
       </UL>
    </LI> <!-- End of Dev guide -->
</UL> 
</LI> <!-- End of doc -->
<!-- Menu 4 : Tools -->
<LI class="">
<A href="" class="sf-with-ul">Tools<SPAN class="sf-sub-indicator"> &raquo;</SPAN><SPAN class="sf-sub-indicator"> &raquo;</SPAN></A>
<UL>
   <LI><A href="ipojo-ant-task.html" title="iPOJO Ant Task">Ant Task</A></LI>
   <LI><A href="ipojo-eclipse-plug-in.html" title="iPOJO Eclipse Plug-in">Eclipse Plugin</A></LI>
   <LI><A href="ipojo-maven-plug-in.html" title="iPOJO Maven Plug-in">Maven Plugin</A></LI>
   <LI><A href="ipojo-arch-command.html" title="iPOJO-Arch-Command"><TT>arch</TT> shell command</A></LI>
   <LI><A href="apache-felix-ipojo-online-manipulator.html" title="apache-felix-ipojo-online-manipulator">Online Manipulator</A></LI>
   <LI><A href="ipojo-webconsole-plugin.html" title="iPOJO Webconsole Plugin">Webconsole plugin</A></LI>
   <LI><A href="apache-felix-ipojo-junit4osgi.html" title="apache-felix-ipojo-junit4osgi">Junit4OSGi</A></LI>
</UL>   
</LI><!-- End of tools -->	
<!-- Menu 5 : Support -->
<LI>
<A href="ipojo-support.html" title="ipojo-support">Support </A>
</LI>
<!-- End of the menu 5 -->			
<!-- Menu 6 : Misc -->
<LI class="">
<A href="" class="sf-with-ul">Misc<SPAN class="sf-sub-indicator"> &raquo;</SPAN><SPAN class="sf-sub-indicator"> &raquo;</SPAN></A>
<UL>
   <LI><A href="apache-felix-ipojo-supportedvms.html" title="apache-felix-ipojo-supportedVMs">Supported JVMs</A></LI>
   <LI><A href="apache-felix-ipojo-supportedosgi.html" title="apache-felix-ipojo-supportedOSGi">Supported OSGi Implementations</A></LI>
   <LI><A href="http://ipojo-dark-side.blogspot.com/" class="external-link" rel="nofollow">iPOJO's Dark Side Blog</A></LI>
   <LI><A href="article-presentations.html" title="Article & Presentations">Article &amp; Presentations</A></LI>
   <LI><A href="http://www.apache.org/">ASF</A></LI>
   <LI><A href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</A></LI>
   <LI><A href="http://www.apache.org/foundation/thanks.html">Sponsors</A></LI>
</UL>
</LI><!-- End of misc -->
</UL> <!-- End of the menu -->
</DIV> <!-- Page header -->
</P>

<DIV class="content">

<H1><A name="UsingiPOJOintrospectionAPI-Introspectinginstances"></A>Introspecting instances</H1>

<P><EM>iPOJO provides mechanisms to introspect and reconfigure instances. Those features are available from the instance description. Currently, only the reconfiguration of primitive instances is supported.</EM></P>

<H2><A name="UsingiPOJOintrospectionAPI-Gettinginstancedescriptions"></A>Getting instance descriptions</H2>

<P>There is two way to get the instance description:</P>
<UL>
	<LI>By using the <TT>architecture</TT> service exposed by an instance providing introspection support.</LI>
	<LI>By calling the getInstanceDescription() method on a ComponentInstance object (that you create thanks to a Factory)</LI>
</UL>


<DIV class="code panel" style="border-width: 1px;"><DIV class="codeContent panelContent">
<PRE class="code-java">
    /**
     * Returns the instance description.
     * @<SPAN class="code-keyword">return</SPAN> the instance description of the current instance
     */
    InstanceDescription getInstanceDescription();
</PRE>
</DIV></DIV>

<H2><A name="UsingiPOJOintrospectionAPI-Introspectingprimitiveinstances"></A>Introspecting primitive instances</H2>

<P>Once you get the <TT>InstanceDescription</TT> object, cast it in <TT>PrimitiveInstanceDescription</TT> (be sure that it is really a primitive instance).<BR>
Then, you have access to every primitive instance aspects:<BR>
service dependencies<BR>
provided services<BR>
configuration properties<BR>
get created implementation objects</P>

<DIV class="code panel" style="border-width: 1px;"><DIV class="codeHeader panelHeader" style="border-bottom-width: 1px;"><B>Primitive Instance Description methods</B></DIV><DIV class="codeContent panelContent">
<PRE class="code-java">
    /**
     * Gets the list of object created by the described instance.
     * @<SPAN class="code-keyword">return</SPAN> the created objects.
     */
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN>[] getCreatedObjects() {
        ...
    }
    
    /**
     * Gets the instance service dependencies.
     * @<SPAN class="code-keyword">return</SPAN> the set of dependency description or an empty array <SPAN class="code-keyword">if</SPAN>
     * no dependencies.
     */
    <SPAN class="code-keyword">public</SPAN> DependencyDescription[] getDependencies() {
        ...
    }
    
    /**
     * Gets the instance service dependency matching with the given service specification or id.
     * @param specification the service specification of the looked specification.
     * @<SPAN class="code-keyword">return</SPAN> the dependency description matching with the given service specification or id.
     * &lt;code&gt;<SPAN class="code-keyword">null</SPAN>&lt;/code&gt; is not found.
     * no dependencies.
     */
    <SPAN class="code-keyword">public</SPAN> DependencyDescription getDependency(<SPAN class="code-object">String</SPAN> specification) {
        ...
    }
    
    /**
     * Gets the instance provided service matching with the given service specification.
     * @param specification the provided specification of the looked provided service.
     * @<SPAN class="code-keyword">return</SPAN> the provided service description matching with the given service specification.
     * &lt;code&gt;<SPAN class="code-keyword">null</SPAN>&lt;/code&gt; is not found.
     */
    <SPAN class="code-keyword">public</SPAN> ProvidedServiceDescription getProvidedService(<SPAN class="code-object">String</SPAN> specification) {
        ...
    }
    
    /**
     * Gets the instance provided service.
     * @<SPAN class="code-keyword">return</SPAN> the set of provided service description or an empty array <SPAN class="code-keyword">if</SPAN>
     * no provided services.
     */
    <SPAN class="code-keyword">public</SPAN> ProvidedServiceDescription[] getProvidedServices() {
        ...
    }
    
    /**
     * Gets the instance properties.
     * @<SPAN class="code-keyword">return</SPAN> the set of property descriptions or an empty array <SPAN class="code-keyword">if</SPAN>
     * no properties.
     */
    <SPAN class="code-keyword">public</SPAN> PropertyDescription[] getProperties() {
        ...
    }

</PRE>
</DIV></DIV>
<H2><A name="UsingiPOJOintrospectionAPI-Manipulatingdependencies"></A>Manipulating dependencies</H2>

<P>You can get service dependencies from the <TT>PrimitiveInstanceDescription</TT>. Once you get the dependency (<TT>DependencyDescription</TT> object that you want to manipulate you can call one of those method on it:</P>
<DIV class="code panel" style="border-width: 1px;"><DIV class="codeContent panelContent">
<PRE class="code-java">
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">boolean</SPAN> isMultiple() { ... }

    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">boolean</SPAN> isOptional() { ... }

    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN> getFilter() { ... }

    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN> getInterface() { ... }

    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">int</SPAN> getState() { ... }
    
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN> getId() { ... }
    
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">boolean</SPAN> supportsNullable() { ... }
    
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN> getDefaultImplementation() { ... }
    
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">int</SPAN> getPolicy() { ... }
    
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN> getComparator() { ... }
    
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">boolean</SPAN> isFrozen() { ... }

    /**
     * Gets the service reference list.
     * @<SPAN class="code-keyword">return</SPAN> the list of matching service reference,
     * &lt;code&gt;<SPAN class="code-keyword">null</SPAN>&lt;/code&gt; <SPAN class="code-keyword">if</SPAN> no service reference.
     */
    <SPAN class="code-keyword">public</SPAN> List getServiceReferences() { ... }

    /**
     * Gets the service reference <SPAN class="code-keyword">if</SPAN> only one service reference is used.
     * @<SPAN class="code-keyword">return</SPAN> the ServiceReference (only <SPAN class="code-keyword">if</SPAN> the cardinality could be 1),
     * or &lt;code&gt;<SPAN class="code-keyword">null</SPAN>&lt;/code&gt; <SPAN class="code-keyword">if</SPAN> no service reference.
     */
    <SPAN class="code-keyword">public</SPAN> ServiceReference getServiceReference() { ... }

    /**
     * Gets the used service set.
     * @<SPAN class="code-keyword">return</SPAN> the list [service reference] containing the used services,
     * &lt;code&gt;<SPAN class="code-keyword">null</SPAN>&lt;/code&gt; <SPAN class="code-keyword">if</SPAN> no providers are used
     */
    <SPAN class="code-keyword">public</SPAN> List getUsedServices() { ... }
    
    /**
     * Sets the dependency comparator.
     * The reference set will be sort at the next usage.
     * @param cmp the comparator
     */
    <SPAN class="code-keyword">public</SPAN> void setComparator(Comparator cmp) { ... }
    
    /**
     * Sets the dependency filter.
     * @param filter the <SPAN class="code-keyword">new</SPAN> LDAP filter
     */
    <SPAN class="code-keyword">public</SPAN> void setFilter(Filter filter) { ... }
    
    /**
     * Sets the dependency cardinality.
     * @param isAgg <SPAN class="code-keyword">if</SPAN> &lt;code&gt;<SPAN class="code-keyword">true</SPAN>&lt;/code&gt; sets the dependency to aggregate,
     * <SPAN class="code-keyword">if</SPAN> &lt;code&gt;<SPAN class="code-keyword">false</SPAN>&lt;/code&gt; sets the dependency to scalar.
     */
    <SPAN class="code-keyword">public</SPAN> void setAggregate(<SPAN class="code-object">boolean</SPAN> isAgg) { ... }
    
    /**
     * Sets the dependency optionality.
     * @param isOpt <SPAN class="code-keyword">if</SPAN> &lt;code&gt;<SPAN class="code-keyword">true</SPAN>&lt;/code&gt; sets the dependency to optional,
     * <SPAN class="code-keyword">if</SPAN> &lt;code&gt;<SPAN class="code-keyword">false</SPAN>&lt;/code&gt; sets the dependency to mandatory.
     */
    <SPAN class="code-keyword">public</SPAN> void setOptional(<SPAN class="code-object">boolean</SPAN> isOpt) { ... }

    /**
     * Gets the required service specification name.
     * @<SPAN class="code-keyword">return</SPAN> the required service specification class name.
     */
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN> getSpecification() { ... }
</PRE>
</DIV></DIV>

<P>These methods allows getting the dependency state as well as reconfiguring the dependency by setting a new filter... </P>

<P>There is a slightly difference between the <TT>getServiceReference(s)</TT> methods and the <TT>getUsedServices</TT> method. The first ones returns the list of matching provider. The second one returns the list of currently used providers. </P>

<H2><A name="UsingiPOJOintrospectionAPI-Manipulatingprovidedservices"></A>Manipulating provided services</H2>
<P>You also can manipulate provided services <TT>ProvidedServiceDescription</TT>. </P>
<DIV class="code panel" style="border-width: 1px;"><DIV class="codeContent panelContent">
<PRE class="code-java">
/**
     * Gets the list of provided service specifications.
     * @<SPAN class="code-keyword">return</SPAN> the provided contract name.
     */
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN>[] getServiceSpecifications() { ... }

    /**
     * Gets the list of properties.
     * A copy of the actual property set is returned.
     * @<SPAN class="code-keyword">return</SPAN> the properties.
     */
    <SPAN class="code-keyword">public</SPAN> Properties getProperties() { ... }
    
    /**
     * Adds and Updates service properties.
     * Existing properties are updated. 
     * New ones are added.
     * @param props the <SPAN class="code-keyword">new</SPAN> properties
     */
    <SPAN class="code-keyword">public</SPAN> void addProperties(Dictionary props) { ... }
    
    /**
     * Removes service properties.
     * @param props the properties to remove
     */
    <SPAN class="code-keyword">public</SPAN> void removeProperties(Dictionary props) { ...  }

    /**
     * Gets provided service state.
     * @<SPAN class="code-keyword">return</SPAN> the state of the provided service (UNREGISTERED | REGISTRED).
     */
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">int</SPAN> getState() { ... }

    /**
     * Gets the service reference.
     * @<SPAN class="code-keyword">return</SPAN> the service reference (<SPAN class="code-keyword">null</SPAN> <SPAN class="code-keyword">if</SPAN> the service is unregistered).
     */
    <SPAN class="code-keyword">public</SPAN> ServiceReference getServiceReference() { ... }
    
    /**
     * Gets the 'main' service object.
     * @<SPAN class="code-keyword">return</SPAN> the 'main' service object or &lt;code&gt;<SPAN class="code-keyword">null</SPAN>&lt;/code&gt;
     * <SPAN class="code-keyword">if</SPAN> no service object are created.
     */
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">Object</SPAN> getService() { ... }
    
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">Object</SPAN>[] getServices() { ... }
</PRE>
</DIV></DIV>

<P>Thanks to these method, you can get service objects, get the registered services, and manipulate service properties.<BR>
H2. Manipulating configuration properties<BR>
The last think that you can do from the <TT>PrimitiveInstanceDescription</TT> is to get configuration properties (<TT>PropertyDescription</TT>). </P>
<DIV class="code panel" style="border-width: 1px;"><DIV class="codeContent panelContent">
<PRE class="code-java">
 /**
     * Gets the current property name.
     * @<SPAN class="code-keyword">return</SPAN> the property name.
     */
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN> getName() { ... }

    /**
     * Gets the current property type.
     * @<SPAN class="code-keyword">return</SPAN> the property type.
     */
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN> getType() { ... }

    /**
     * Gets the current property value.
     * @<SPAN class="code-keyword">return</SPAN> the <SPAN class="code-keyword">default</SPAN> value <SPAN class="code-keyword">for</SPAN> the property,
     * &lt;code&gt;<SPAN class="code-keyword">null</SPAN>&lt;/code&gt; <SPAN class="code-keyword">if</SPAN> the property hasn't a value..
     */
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN> getValue() { ... }
    
    /**
     * Sets the property value.
     * This method can only be called on 'living' property
     * (properties with a {@link Property} object).
     * @param value the <SPAN class="code-keyword">new</SPAN> value.
     */
    <SPAN class="code-keyword">public</SPAN> void setValue(<SPAN class="code-object">Object</SPAN> value) { ... }

</PRE>
</DIV></DIV>

<P>With these methods you can get a property object and update its value dynamically. 
<BR class="atl-forced-newline">
<BR class="atl-forced-newline"></P>

 </DIV>
        <IMG src="http://felix.apache.org/ipojo/site/footer.png" class="footer">
</DIV>

<SCRIPT type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</SCRIPT>
<SCRIPT type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-1518442-4");
pageTracker._trackPageview();
} catch(err) {}
</SCRIPT>

        <DIV class="timestamp" style="margin-top: 30px; font-size: 80%; text-align: right;">
Last modified by clement.escoffier on 2009-08-25 01:38:11.0
        </DIV>
        <DIV class="trademarkFooter">
Apache Felix, Felix, Apache, the Apache feather logo, and the Apache Felix project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.
        </DIV>
    </DIV>
  </BODY>
</HTML>
