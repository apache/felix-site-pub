
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<HTML>
  <HEAD>
    <TITLE>Apache Felix - 4.1. Console and Commands</TITLE>
    <LINK rel="stylesheet" href="http://felix.apache.org/site/media.data/site.css" type="text/css" media="all">
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </HEAD>
  <BODY>
    <DIV class="title"><DIV class="logo"><A href="http://felix.apache.org/site/index.html"><IMG border="0" alt="Apache Felix" src="http://felix.apache.org/site/media.data/logo.png"></A></DIV><DIV class="header"><A href="http://www.apache.org/"><IMG border="0" alt="Apache" src="http://felix.apache.org/site/media.data/apache.png"></A></DIV></DIV>
    <DIV class="menu">
<UL>
	<LI><A href="news.html" title="news">news</A></LI>
	<LI><A href="license.html" title="license">license</A></LI>
	<LI><A href="http://felix.apache.org/site/downloads.cgi" class="external-link" rel="nofollow">downloads</A></LI>
	<LI><A href="documentation.html" title="documentation">documentation</A></LI>
	<LI><A href="mailinglists.html" title="mailinglists">mailing lists</A></LI>
	<LI><A href="contributing.html" title="Contributing">contributing</A></LI>
	<LI><A href="http://www.apache.org/" class="external-link" rel="nofollow">asf</A></LI>
	<LI><A href="http://www.apache.org/foundation/sponsorship.html" class="external-link" rel="nofollow">sponsorship</A></LI>
	<LI><A href="http://www.apache.org/foundation/thanks.html" class="external-link" rel="nofollow">sponsors</A>
<!-- ApacheCon Ad -->
<IFRAME src="http://www.apache.org/ads/button.html" style="border-width:0; float: left" frameborder="0" scrolling="no" width="135" height="135"></IFRAME>
<P style="height: 100px">
<!-- ApacheCon Ad --></LI>
</UL>
    </DIV>
    <DIV class="main">
<STYLE type="text/css">/*<![CDATA[*/
table.ScrollbarTable  {border: none;padding: 3px;width: 100%;padding: 3px;margin: 0px;background-color: #f0f0f0}
table.ScrollbarTable td.ScrollbarPrevIcon {text-align: center;width: 16px;border: none;}
table.ScrollbarTable td.ScrollbarPrevName {text-align: left;border: none;}
table.ScrollbarTable td.ScrollbarParent {text-align: center;border: none;}
table.ScrollbarTable td.ScrollbarNextName {text-align: right;border: none;}
table.ScrollbarTable td.ScrollbarNextIcon {text-align: center;width: 16px;border: none;}

/*]]>*/</STYLE><DIV class="Scrollbar"><TABLE class="ScrollbarTable"><TR><TD width="33%" class="ScrollbarPrevName">&nbsp;</TD><TD width="33%" class="ScrollbarParent"><SUP><A href="4-understanding-karaf.html"><IMG border="0" align="middle" src="http://cwiki.apache.org/confluence/images/icons/up_16.gif" width="8" height="8"></A></SUP><A href="4-understanding-karaf.html">4. Understanding Karaf</A></TD><TD width="33%" class="ScrollbarNextName">&nbsp;<A href="42-remote-console.html">4.2. Remote Console</A></TD><TD class="ScrollbarNextIcon"><A href="42-remote-console.html"><IMG border="0" align="middle" src="http://cwiki.apache.org/confluence/images/icons/forwd_16.gif" width="16" height="16"></A></TD></TR></TABLE></DIV>
<P><A name="4.1.ConsoleandCommands-top"></A></P>

<H1><A name="4.1.ConsoleandCommands-4.1.ConsoleandCommands"></A>4.1. Console and Commands</H1>

<H2><A name="4.1.ConsoleandCommands-Overview"></A>Overview</H2>

<P>Karaf provides a powerful console and a set of commands that can be used to perform various tasks.  Commands can be located in the root shell or in a sub-shell.  A sub-shell is a group of related commands, like commands related to the OSGi framework or the log system.</P>

<P>The following shells are available out-of-the-box, but the console can be <A href="61-extending-the-console.html" title="6.1. Extending the console">easily extended</A>:</P>
<UL>
	<LI><A href="#4.1.ConsoleandCommands-Adminshell">admin</A></LI>
	<LI><A href="#4.1.ConsoleandCommands-Configshell">config</A></LI>
	<LI><A href="#4.1.ConsoleandCommands-Featuresshell">features</A></LI>
	<LI><A href="#4.1.ConsoleandCommands-Logshell">log</A></LI>
	<LI><A href="#4.1.ConsoleandCommands-OBRshell">obr</A></LI>
	<LI><A href="#4.1.ConsoleandCommands-OSGishell">osgi</A></LI>
	<LI><A href="#4.1.ConsoleandCommands-Packageshell">package</A></LI>
	<LI><A href="#4.1.ConsoleandCommands-Shellshell">shell</A></LI>
	<LI><A href="#4.1.ConsoleandCommands-SSHshell">ssh</A></LI>
	<LI><A href="#4.1.ConsoleandCommands-Wrappershell">wrapper</A></LI>
</UL>


<H2><A name="4.1.ConsoleandCommands-Adminshell"></A>Admin shell</H2>

<P>This shell is described extensively in section <A href="47-administration.html" title="4.7. Administration">4.7. Administration</A>.</P>

<H2><A name="4.1.ConsoleandCommands-Configshell"></A>Config shell</H2>

<P>This shell is described extensively in section <A href="48-configuration.html" title="4.8. Configuration">4.8. Configuration</A>.</P>

<H2><A name="4.1.ConsoleandCommands-Featuresshell"></A>Features shell</H2>

<P>The features shell contains a few commands to provision entire applications easily.<BR>
More information is available on the chapter <A href="46-provisioning.html" title="4.6. Provisioning">4.6. Provisioning</A>.</P>

<H2><A name="4.1.ConsoleandCommands-Logshell"></A>Log shell</H2>

<P>The log shell contains a few commands to display the log entries, retrieve or change the log levels:</P>

<DIV class="table-wrap">
<TABLE class="confluenceTable"><TBODY>
<TR>
<TH class="confluenceTh"> Command         </TH>
<TH class="confluenceTh"> Description </TH>
</TR>
<TR>
<TD class="confluenceTd"> display           </TD>
<TD class="confluenceTd"> Display log entries. </TD>
</TR>
<TR>
<TD class="confluenceTd"> display-exception </TD>
<TD class="confluenceTd"> Display the last exception from the log. </TD>
</TR>
<TR>
<TD class="confluenceTd"> get               </TD>
<TD class="confluenceTd"> Show log level. </TD>
</TR>
<TR>
<TD class="confluenceTd"> set               </TD>
<TD class="confluenceTd"> Set log level. </TD>
</TR>
</TBODY></TABLE>
</DIV>


<P>See the documentation on the <A href="43-logging-system.html#4.3.Loggingsystem-Commands">logging system</A> for more informations.</P>

<H2><A name="4.1.ConsoleandCommands-OBRshell"></A>OBR shell</H2>

<P>OBR (<A href="http://www2.osgi.org/Repository" class="external-link" rel="nofollow">OSGi Bundle Repository</A>) is a proposed specification that defines an xml format for repositories of OSGi bundles and an associated service to access it.  Karaf proposes a number of commands that can be used to deal with such repositories.</P>

<P>Note that this feature is not installed by default.  To install it, you must run the following command:</P>
<DIV class="code panel" style="border-width: 1px;"><DIV class="codeContent panelContent">
<PRE class="code-java">
karaf@root:/&gt; features:install obr
</PRE>
</DIV></DIV>

<DIV class="table-wrap">
<TABLE class="confluenceTable"><TBODY>
<TR>
<TH class="confluenceTh"> Command  </TH>
<TH class="confluenceTh"> Description </TH>
</TR>
<TR>
<TD class="confluenceTd"> addUrl     </TD>
<TD class="confluenceTd"> Add a list of repository URLs to the repository service </TD>
</TR>
<TR>
<TD class="confluenceTd"> deploy     </TD>
<TD class="confluenceTd"> Deploy </TD>
</TR>
<TR>
<TD class="confluenceTd"> info       </TD>
<TD class="confluenceTd"> Display the meta-data for the specified bundles. </TD>
</TR>
<TR>
<TD class="confluenceTd"> list       </TD>
<TD class="confluenceTd"> List </TD>
</TR>
<TR>
<TD class="confluenceTd"> listUrl    </TD>
<TD class="confluenceTd"> Display the repository URLs currently associated with the repository service. </TD>
</TR>
<TR>
<TD class="confluenceTd"> removeUrl  </TD>
<TD class="confluenceTd"> Remove a list of repository URLs from the repository service </TD>
</TR>
<TR>
<TD class="confluenceTd"> source     </TD>
<TD class="confluenceTd"> Source </TD>
</TR>
<TR>
<TD class="confluenceTd"> start      </TD>
<TD class="confluenceTd"> Start </TD>
</TR>
</TBODY></TABLE>
</DIV>


<H2><A name="4.1.ConsoleandCommands-OSGishell"></A>OSGi shell</H2>

<P>The OSGi sub-shell provides commands for managing the OSGi framework: listing OSGi bundles, services, managing bundle lifecycles.<BR>
Look at the online help (launch <TT>osgi help</TT> command) for more informations.</P>

<DIV class="table-wrap">
<TABLE class="confluenceTable"><TBODY>
<TR>
<TH class="confluenceTh"> Command           </TH>
<TH class="confluenceTh"> Description </TH>
</TR>
<TR>
<TD class="confluenceTd"> bundle-level        </TD>
<TD class="confluenceTd"> Get or set the start level of a given bundle </TD>
</TR>
<TR>
<TD class="confluenceTd"> headers             </TD>
<TD class="confluenceTd"> Display headers </TD>
</TR>
<TR>
<TD class="confluenceTd"> install             </TD>
<TD class="confluenceTd"> Install bundle </TD>
</TR>
<TR>
<TD class="confluenceTd"> list                </TD>
<TD class="confluenceTd"> List bundles </TD>
</TR>
<TR>
<TD class="confluenceTd"> ls                  </TD>
<TD class="confluenceTd"> List services </TD>
</TR>
<TR>
<TD class="confluenceTd"> refresh             </TD>
<TD class="confluenceTd"> Refresh bundle </TD>
</TR>
<TR>
<TD class="confluenceTd"> update              </TD>
<TD class="confluenceTd"> Update bundle </TD>
</TR>
<TR>
<TD class="confluenceTd"> resolve             </TD>
<TD class="confluenceTd"> Resolve bundle </TD>
</TR>
<TR>
<TD class="confluenceTd"> shutdown            </TD>
<TD class="confluenceTd"> Shutdown </TD>
</TR>
<TR>
<TD class="confluenceTd"> start               </TD>
<TD class="confluenceTd"> Start bundle </TD>
</TR>
<TR>
<TD class="confluenceTd"> start-level         </TD>
<TD class="confluenceTd"> Get or set the start level </TD>
</TR>
<TR>
<TD class="confluenceTd"> stop                </TD>
<TD class="confluenceTd"> Stop bundle </TD>
</TR>
<TR>
<TD class="confluenceTd"> uninstall           </TD>
<TD class="confluenceTd"> Uninstall bundle </TD>
</TR>
</TBODY></TABLE>
</DIV>


<H2><A name="4.1.ConsoleandCommands-Packageshell"></A>Package shell</H2>

<DIV class="table-wrap">
<TABLE class="confluenceTable"><TBODY>
<TR>
<TH class="confluenceTh"> Command      </TH>
<TH class="confluenceTh"> Description </TH>
</TR>
<TR>
<TD class="confluenceTd"> imports        </TD>
<TD class="confluenceTd"> Display imported packages </TD>
</TR>
<TR>
<TD class="confluenceTd"> exports        </TD>
<TD class="confluenceTd"> Display exported packages </TD>
</TR>
</TBODY></TABLE>
</DIV>


<H2><A name="4.1.ConsoleandCommands-Shellshell"></A>Shell shell</H2>

<DIV class="table-wrap">
<TABLE class="confluenceTable"><TBODY>
<TR>
<TH class="confluenceTh"> Command  </TH>
<TH class="confluenceTh"> Description </TH>
</TR>
<TR>
<TD class="confluenceTd"> cat        </TD>
<TD class="confluenceTd"> Displays the content of a file or url </TD>
</TR>
<TR>
<TD class="confluenceTd"> echo       </TD>
<TD class="confluenceTd"> Echoes or prints arguments to STDOUT </TD>
</TR>
<TR>
<TD class="confluenceTd"> exec       </TD>
<TD class="confluenceTd"> Executes system processes </TD>
</TR>
<TR>
<TD class="confluenceTd"> grep       </TD>
<TD class="confluenceTd"> Prints lines matching the given pattern </TD>
</TR>
<TR>
<TD class="confluenceTd"> info       </TD>
<TD class="confluenceTd"> Prints system informations </TD>
</TR>
<TR>
<TD class="confluenceTd"> java       </TD>
<TD class="confluenceTd"> Execute a Java standard application </TD>
</TR>
<TR>
<TD class="confluenceTd"> printf     </TD>
<TD class="confluenceTd"> Format and print arguments </TD>
</TR>
<TR>
<TD class="confluenceTd"> sleep      </TD>
<TD class="confluenceTd"> Sleeps for a bit then wakes up </TD>
</TR>
<TR>
<TD class="confluenceTd"> sort       </TD>
<TD class="confluenceTd"> Write sorted concatenation of all files to standard output. </TD>
</TR>
<TR>
<TD class="confluenceTd"> tac        </TD>
<TD class="confluenceTd"> Captures the STDIN and returns it as a string. Optionally writes the content to a file </TD>
</TR>
</TBODY></TABLE>
</DIV>



<P>Examples:</P>
<DIV class="code panel" style="border-width: 1px;"><DIV class="codeContent panelContent">
<PRE class="code-java">
cat mvn:org.apache.servicemix/servicemix/3.2.1/pom
</PRE>
</DIV></DIV>
<P>or</P>
<DIV class="code panel" style="border-width: 1px;"><DIV class="codeContent panelContent">
<PRE class="code-java">
log:display | grep error
</PRE>
</DIV></DIV>

<H2><A name="4.1.ConsoleandCommands-SSHshell"></A>SSH shell</H2>

<DIV class="table-wrap">
<TABLE class="confluenceTable"><TBODY>
<TR>
<TH class="confluenceTh"> Command  </TH>
<TH class="confluenceTh"> Description </TH>
</TR>
<TR>
<TD class="confluenceTd"> ssh        </TD>
<TD class="confluenceTd"> Connects to a remote SSH server </TD>
</TR>
<TR>
<TD class="confluenceTd"> sshd       </TD>
<TD class="confluenceTd"> Creates a SSH server </TD>
</TR>
</TBODY></TABLE>
</DIV>


<H2><A name="4.1.ConsoleandCommands-Wrappershell"></A>Wrapper shell</H2>

<P>Note that this feature is not installed by default.  To install it, you must run the following command:</P>
<DIV class="code panel" style="border-width: 1px;"><DIV class="codeContent panelContent">
<PRE class="code-java">
karaf@root:/&gt; features:install wrapper
</PRE>
</DIV></DIV>

<DIV class="table-wrap">
<TABLE class="confluenceTable"><TBODY>
<TR>
<TH class="confluenceTh"> Command  </TH>
<TH class="confluenceTh"> Description </TH>
</TR>
<TR>
<TD class="confluenceTd"> install    </TD>
<TD class="confluenceTd"> Install the container as a system service in the OS. </TD>
</TR>
</TBODY></TABLE>
</DIV>


<P><A href="#4.1.ConsoleandCommands-top">top</A></P>
<STYLE type="text/css">/*<![CDATA[*/
table.ScrollbarTable  {border: none;padding: 3px;width: 100%;padding: 3px;margin: 0px;background-color: #f0f0f0}
table.ScrollbarTable td.ScrollbarPrevIcon {text-align: center;width: 16px;border: none;}
table.ScrollbarTable td.ScrollbarPrevName {text-align: left;border: none;}
table.ScrollbarTable td.ScrollbarParent {text-align: center;border: none;}
table.ScrollbarTable td.ScrollbarNextName {text-align: right;border: none;}
table.ScrollbarTable td.ScrollbarNextIcon {text-align: center;width: 16px;border: none;}

/*]]>*/</STYLE><DIV class="Scrollbar"><TABLE class="ScrollbarTable"><TR><TD width="33%" class="ScrollbarPrevName">&nbsp;</TD><TD width="33%" class="ScrollbarParent"><SUP><A href="4-understanding-karaf.html"><IMG border="0" align="middle" src="http://cwiki.apache.org/confluence/images/icons/up_16.gif" width="8" height="8"></A></SUP><A href="4-understanding-karaf.html">4. Understanding Karaf</A></TD><TD width="33%" class="ScrollbarNextName">&nbsp;<A href="42-remote-console.html">4.2. Remote Console</A></TD><TD class="ScrollbarNextIcon"><A href="42-remote-console.html"><IMG border="0" align="middle" src="http://cwiki.apache.org/confluence/images/icons/forwd_16.gif" width="16" height="16"></A></TD></TR></TABLE></DIV>
    </DIV>
  </BODY>
</HTML>
