
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<HTML>
  <HEAD>
    <TITLE>Apache Felix - Apache Felix User Admin - File Store</TITLE>
    <LINK rel="stylesheet" href="http://felix.apache.org/site/media.data/site.css" type="text/css" media="all">
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </HEAD>
  <BODY>
    <DIV class="title"><DIV class="logo"><A href="http://felix.apache.org/site/index.html"><IMG border="0" alt="Apache Felix" src="http://felix.apache.org/site/media.data/logo.png"></A></DIV><DIV class="header"><A href="http://www.apache.org/"><IMG border="0" alt="Apache" src="http://felix.apache.org/site/media.data/apache.png"></A></DIV></DIV>
    <DIV class="menu">
<UL>
	<LI><A href="news.html" title="news">news</A></LI>
	<LI><A href="http://www.apache.org/licenses/" class="external-link" rel="nofollow">license</A></LI>
	<LI><A href="http://felix.apache.org/site/downloads.cgi" class="external-link" rel="nofollow">downloads</A></LI>
	<LI><A href="documentation.html" title="documentation">documentation</A></LI>
	<LI><A href="mailinglists.html" title="mailinglists">mailing lists</A></LI>
	<LI><A href="contributing.html" title="Contributing">contributing</A></LI>
	<LI><A href="http://www.apache.org/" class="external-link" rel="nofollow">asf</A></LI>
	<LI><A href="http://www.apache.org/security/" class="external-link" rel="nofollow">security</A></LI>
	<LI><A href="http://www.apache.org/foundation/sponsorship.html" class="external-link" rel="nofollow">sponsorship</A></LI>
	<LI><A href="http://www.apache.org/foundation/thanks.html" class="external-link" rel="nofollow">sponsors</A>
<!-- ApacheCon Ad -->
<IFRAME src="http://www.apache.org/ads/button.html" style="border-width:0; float: left" frameborder="0" scrolling="no" width="135" height="135"></IFRAME>
<P style="height: 100px">
<!-- ApacheCon Ad --></LI>
</UL>
    </DIV>
    <DIV class="main">
<P>The Apache Felix User Admin file store provides a file-based store for use with the Felix UserAdmin service. It uses a binary file-format to persist the role information. This file will always be written in the data area of the bundle and be called &quot;<TT>ua_repo.dat</TT>&quot;.</P>

<P>The file-based store service this bundle provides can be configured at runtime by using the service PID &quot;<TT>org.apache.felix.useradmin.filestore</TT>&quot;. The configuration options recognized by this service are:</P>

<UL>
	<LI>&quot;<TT>background.write.disabled</TT>&quot;; by default, all changes made to the UserAdmin repository are flushed to disk. By setting this value to &quot;<TT>true</TT>&quot;, this no longer will happen for each change, but only when the file-store service is stopped. This value is optional and defaults to &quot;<TT>false</TT>&quot;;</LI>
	<LI>&quot;<TT>background.write.delay.value</TT>&quot;; denotes the period after which the changes should be persisted to disk. If other changes to the repository occur during this period, the period will start over. This value is optional and defaults to &quot;<TT>500</TT>&quot;;</LI>
	<LI>&quot;<TT>background.write.delay.timeunit</TT>&quot;; denotes the time unit for &quot;background.write.delay.value&quot;. This value is optional and defaults to &quot;<TT>milliseconds</TT>&quot;. Possible values are: &quot;<TT>days</TT>&quot;, &quot;<TT>hours</TT>&quot;, &quot;<TT>minutes</TT>&quot;, &quot;<TT>seconds</TT>&quot;, &quot;<TT>milliseconds</TT>&quot;, &quot;<TT>microseconds</TT>&quot; and &quot;<TT>nanoseconds</TT>&quot;.</LI>
</UL>


<P>Alternatively, one can also supply the above mentioned configuration keys prefixed with &quot;<TT>org.apache.felix.useradmin.filestore.</TT>&quot; as system properties. For example by adding <TT>-Dorg.apache.felix.useradmin.filestore.background.write.disabled=true</TT> to your JVM arguments will disable persisting the changes upon each change. However, using system properties will imply that only a single store can be configured on a system (which could be a sensible default for some situations)!</P>
        <DIV class="timestamp" style="margin-top: 30px; font-size: 80%; text-align: right;">
Last modified by jawi on Fri Dec 07 10:08:03 EST 2012
        </DIV>
        <DIV class="trademarkFooter">
Apache Felix, Felix, Apache, the Apache feather logo, and the Apache Felix project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.
        </DIV>
    </DIV>
  </BODY>
</HTML>
