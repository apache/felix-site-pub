
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<HTML>
  <HEAD>
    <TITLE>Apache Felix - Sigil Projects</TITLE>
    <LINK rel="stylesheet" href="http://felix.apache.org/site/media.data/site.css" type="text/css" media="all">
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </HEAD>
  <BODY>
    <DIV class="title"><DIV class="logo"><A href="http://felix.apache.org/site/index.html"><IMG border="0" alt="Apache Felix" src="http://felix.apache.org/site/media.data/logo.png"></A></DIV><DIV class="header"><A href="http://www.apache.org/"><IMG border="0" alt="Apache" src="http://felix.apache.org/site/media.data/apache.png"></A></DIV></DIV>
    <DIV class="menu">
<UL>
	<LI><A href="news.html" title="news">news</A></LI>
	<LI><A href="http://www.apache.org/licenses/" class="external-link" rel="nofollow">license</A></LI>
	<LI><A href="http://felix.apache.org/site/downloads.cgi" class="external-link" rel="nofollow">downloads</A></LI>
	<LI><A href="documentation.html" title="documentation">documentation</A></LI>
	<LI><A href="mailinglists.html" title="mailinglists">mailing lists</A></LI>
	<LI><A href="contributing.html" title="Contributing">contributing</A></LI>
	<LI><A href="http://www.apache.org/" class="external-link" rel="nofollow">asf</A></LI>
	<LI><A href="http://www.apache.org/security/" class="external-link" rel="nofollow">security</A></LI>
	<LI><A href="http://www.apache.org/foundation/sponsorship.html" class="external-link" rel="nofollow">sponsorship</A></LI>
	<LI><A href="http://www.apache.org/foundation/thanks.html" class="external-link" rel="nofollow">sponsors</A>
<!-- ApacheCon Ad -->
<IFRAME src="http://www.apache.org/ads/button.html" style="border-width:0; float: left" frameborder="0" scrolling="no" width="135" height="135"></IFRAME>
<P style="height: 100px">
<!-- ApacheCon Ad --></LI>
</UL>
    </DIV>
    <DIV class="main">
<H1><A name="SigilProjects-SigilProjects"></A>Sigil Projects</H1>

<P>This page is meant as an overview of how to set up sigil projects, for an in depth look at the file format see <A href="sigil-properties.html" title="Sigil Properties">Sigil Properties</A>.</P>
<H3><A name="SigilProjects-Basics"></A>Basics</H3>

<DIV class="code panel" style="border-width: 1px;"><DIV class="codeHeader panelHeader" style="border-bottom-width: 1px;"><B>sigil.properties</B></DIV><DIV class="codeContent panelContent">
<PRE class="code-java">
-bundles: org.foo
-version: 1.0.0
-exports: org.foo.api
-imports: org.foo.api
-sourcedirs: src
</PRE>
</DIV></DIV>

<P>This describes a bundle with symbolic name org.foo that has version 1.0.0 and embeds all java classes found in the folder src within our bundle. It exports the package org.foo.api and imports the package org.foo.api. If we assume that the src folder contains classes in the package org.foo.api then both the exports and imports will also inherit the version from the bundle (as no explicit version is specified).</P>

<H3><A name="SigilProjects-Versionmanagement"></A>Version management</H3>

<P>If we wanted to have explicit control we could do:</P>

<DIV class="code panel" style="border-width: 1px;"><DIV class="codeHeader panelHeader" style="border-bottom-width: 1px;"><B>sigil.properties</B></DIV><DIV class="codeContent panelContent">
<PRE class="code-java">
-bundles: org.foo
-version: 1.1.0
-exports: org.foo.api;version=1.1.1
-imports: org.foo.api;version=[1.0,1.2)
-sourcedirs: src
</PRE>
</DIV></DIV>

<H3><A name="SigilProjects-Multiprojectbuilds"></A>Multi project builds</H3>

<P>You can also set default versions and import ranges in your project hierarchy so leaf projects inherit the version strategy of their parent:</P>

<DIV class="preformatted panel" style="border-width: 1px;"><DIV class="preformattedContent panelContent">
<PRE>+ project
   + sigil-defaults.properties
   + leaf-project
      + sigil.properties
      + src
         + org
            + foo
               + api
                  + Foo.java
</PRE>
</DIV></DIV>

<P>If we define in sigil-defaults.properties:</P>

<DIV class="code panel" style="border-width: 1px;"><DIV class="codeHeader panelHeader" style="border-bottom-width: 1px;"><B>sigil-defaults.properties</B></DIV><DIV class="codeContent panelContent">
<PRE class="code-java">
version: 1.1.0
<SPAN class="code-keyword">package</SPAN>;org.foo.api: [1.0,1.2)
</PRE>
</DIV></DIV>

<P>Then we could change our sigil.properties file to:</P>

<DIV class="code panel" style="border-width: 1px;"><DIV class="codeHeader panelHeader" style="border-bottom-width: 1px;"><B>sigil.properties</B></DIV><DIV class="codeContent panelContent">
<PRE class="code-java">
-bundles: org.foo
-exports: org.foo.api;version=1.1.1
-imports: org.foo.api
-sourcedirs: src
</PRE>
</DIV></DIV>

<P>Where the bundle version and the import range is inherited from the package;org.foo.api property from the parent sigil-defaults.properties file.</P>
        <DIV class="timestamp" style="margin-top: 30px; font-size: 80%; text-align: right;">
Last modified by dsavage@apache.org on 2009-09-16 07:28:42.0
        </DIV>
        <DIV class="trademarkFooter">
Apache Felix, Felix, Apache, the Apache feather logo, and the Apache Felix project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.
        </DIV>
    </DIV>
  </BODY>
</HTML>
