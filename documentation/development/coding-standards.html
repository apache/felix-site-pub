<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       https://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
  <head>
    <title>Apache Felix - Coding Standards</title>
    <link rel="icon" href="/res/favicon.ico">
    <link rel="stylesheet" href="/res/site.css" type="text/css" media="all">
    <link rel="stylesheet" href="/res/codehilite.css" type="text/css" media="all">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </head>
  <body>
    <div class="title">
      <div class="logo">
        <a href="https://felix.apache.org/">
          <img border="0" alt="Apache Felix" src="/res/logo.png">
        </a>
      </div>
      <div class="header">
        <a href="https://www.apache.org/">
          <img border="0" alt="Apache" src="/res/apache.png">
        </a>
      </div>
    </div>
    
    <div class="menu"> 
      <style type="text/css">
/* The following code is added by mdx_elementid.py
   It was originally lifted from http://subversion.apache.org/style/site.css */
/*
 * Hide class="elementid-permalink", except when an enclosing heading
 * has the :hover property.
 */
.headerlink, .elementid-permalink {
  visibility: hidden;
}
h2:hover > .headerlink, h3:hover > .headerlink, h1:hover > .headerlink, h6:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, dt:hover > .elementid-permalink { visibility: visible }</style>
<p><a href="/news.html">News</a>  <br />
<a href="/license.html">License</a>  <br />
<a href="/downloads.cgi">Downloads</a>  <br />
<a href="/documentation.html">Documentation</a>  <br />
<a href="/documentation/community/project-info.html">Project Info</a>  <br />
<a href="/documentation/community/contributing.html">Contributing</a>  <br />
<a href="/sitemap.html">Site Map</a>  <br />
<a href="https://www.apache.org/">ASF</a>  <br />
<a href="https://www.apache.org/security/">Security</a>  <br />
<a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a>  <br />
<a href="https://www.apache.org/foundation/thanks.html">Sponsors</a>    </p>
<iframe
    src="https://www.apache.org/ads/button.html"
    style="border-width:0; float: left"
    frameborder="0"
    scrolling="no"
    width="135"
    height="135">
</iframe>
    </div>
    
    <div class="main">
      <div class="breadcrump" style="font-size: 80%;">
        <a href="/">Home</a>&nbsp;&raquo&nbsp;<a href="/documentation.html">Documentation</a>&nbsp;&raquo&nbsp;<a href="/documentation/development.html">Development</a>
      </div>

      <h1>Coding Standards</h1>
      <style type="text/css">
/* The following code is added by mdx_elementid.py
   It was originally lifted from http://subversion.apache.org/style/site.css */
/*
 * Hide class="elementid-permalink", except when an enclosing heading
 * has the :hover property.
 */
.headerlink, .elementid-permalink {
  visibility: hidden;
}
h2:hover > .headerlink, h3:hover > .headerlink, h1:hover > .headerlink, h6:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, dt:hover > .elementid-permalink { visibility: visible }</style>
<h2 id="guidelines-summary">Guidelines Summary<a class="headerlink" href="#guidelines-summary" title="Permanent link">&para;</a></h2>
<p>This style guide is intended to help the computer professional produce better Java programs. It presents a set of specific guidelines for using the features of Java in a disciplined manner. The goal is to develop high quality, reliable, reusable, portable software. For a number of reasons, no programming language can ensure the achievements of these desirable objectives on its own. Programming must be embedded in a disciplined development process that addresses a number of topics in a well managed way. The use of Java is one of those. It must conform to good programming practices be based on well established software engineering principles. This style guide is intended to bridge the gap between these principles and the actual practice of programming in Java.</p>
<p>Clear, readable, understandable source text eases program evolution, adaptation and maintenance. First, such source text is more likely to be correct and reliable. Second, effective code adaptation is a prerequisite to code reuse, a technique that has the potential for drastic reductions in system development costs. Easy adaptation requires thorough understanding of the software, and that is facilitated considerably by clarity. Finally, since maintenance (really evolution) is a costly process that continues throughout the life of a system, clarity plays a major role in keeping maintenance costs down. Over the entire life cycle, code has to be read and understood far more often than it is written; the investment of effort in writing readable, understandable code is thus well worthwhile. Many of the guidelines in this style guide are designed to promote clarity of the source text.</p>
<p>This style guide is intended for those involved in the development of real software systems written in Java. Different roles in a software project can exploit the style guide in different ways. The programmer can use it as a reference on good Java style. It can be used in code reviews as a common reference. Finally, lessons learned in real projects can be captured by extending the style guide.</p>
<h2 id="class-layout-and-comments">Class layout and comments<a class="headerlink" href="#class-layout-and-comments" title="Permanent link">&para;</a></h2>
<h3 id="files-and-filenames">Files and filenames<a class="headerlink" href="#files-and-filenames" title="Permanent link">&para;</a></h3>
<p>Files longer than 2000 lines are cumbersome and should be avoided.</p>
<h4 id="file-names">File names<a class="headerlink" href="#file-names" title="Permanent link">&para;</a></h4>
<p>The file must be named after the class it represents. As for most cases each file contains only one class, this is an easy naming convention. For nested or inner classes the name of the main class must be the name of the file. As names in Java are case-sensitive, the filename is case-sensitive also.</p>
<h4 id="file-organization">File organization<a class="headerlink" href="#file-organization" title="Permanent link">&para;</a></h4>
<p>Each Java source file contains a single class or interface. Of course, this excludes inner classes as these must be defined without an (outer) class, and thus in the same file.</p>
<p>Java source files have the following ordering:</p>
<ul>
<li>Beginning comments</li>
<li>Package and import statements</li>
<li>Class and interface declarations</li>
</ul>
<h4 id="beginning-comments">Beginning comments<a class="headerlink" href="#beginning-comments" title="Permanent link">&para;</a></h4>
<p>All source files must begin with the comments shown in the following code sample.</p>
<div class="codehilite"><pre><span class="cm">/*</span>
<span class="cm"> * Licensed to the Apache Software Foundation (ASF) under one</span>
<span class="cm"> * or more contributor license agreements.  See the NOTICE file</span>
<span class="cm"> * distributed with this work for additional information</span>
<span class="cm"> * regarding copyright ownership.  The ASF licenses this file</span>
<span class="cm"> * to you under the Apache License, Version 2.0 (the</span>
<span class="cm"> * &quot;License&quot;); you may not use this file except in compliance</span>
<span class="cm"> * with the License.  You may obtain a copy of the License at</span>
<span class="cm"> *</span>
<span class="cm"> *   http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="cm"> *</span>
<span class="cm"> * Unless required by applicable law or agreed to in writing,</span>
<span class="cm"> * software distributed under the License is distributed on an</span>
<span class="cm"> * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span>
<span class="cm"> * KIND, either express or implied.  See the License for the</span>
<span class="cm"> * specific language governing permissions and limitations</span>
<span class="cm"> * under the License.</span>
<span class="cm"> */</span>
</pre></div>


<p>Note that this comment part is not according to the JavaDoc style (See: How to write doc comments for JavaDoc - Sun Microsystems, Inc.) as this is file specific information that is not relevant in generated API documentation.</p>
<h5 id="package-and-import-statements">Package and import Statements<a class="headerlink" href="#package-and-import-statements" title="Permanent link">&para;</a></h5>
<p>The first non-comment line of most Java source files is a package statement. After an empty line import statements can follow. For example:</p>
<div class="codehilite"><pre><span class="n">package</span> <span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">felix</span><span class="p">.</span><span class="n">whatever</span><span class="p">.</span><span class="n">this</span><span class="p">.</span><span class="n">is</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">awt</span><span class="p">.</span><span class="n">Frame</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">InputStream</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">Vector</span><span class="p">;</span>
</pre></div>


<p>A few notes must be made here:
1. Package rules.
  When not using an explicit package statement in your code the code still is in a package, the default package. This easily results in name clashes and as package naming should be a part of the design, always use an explicit package name. For naming rules of packages see 3.4 Naming conventions.
1. Import statements need to be explicit in order to overcome name clashes.
  They should be grouped by name. When the number of import statements of the same package exceeds the 'readability' limit (please use common sense), then import the complete package by adding '.*'.
1. Import order.
  First in this section should be the standard Java imports like: java.lang.Throwable. Second should be the Java extensions (i.e. javax), third, the third party stuff. Finally the project-specific imports should be added.</p>
<h5 id="class-and-interface-declarations">Class and interface Declarations<a class="headerlink" href="#class-and-interface-declarations" title="Permanent link">&para;</a></h5>
<p>The following comment block is an example for the comment that belongs to the declaration of a class or an interface. The combination of JavaDoc syntax and keywords that are expanded by the source integrity tool result in the following block:</p>
<div class="codehilite"><pre><span class="cm">/**</span>
<span class="cm"> * This class is not really a class, because this file is just</span>
<span class="cm"> * a template that shows how the file header and class header</span>
<span class="cm"> * should look like.</span>
<span class="cm"> *</span>
<span class="cm"> * @author &lt;a href=&quot;mailto:dev@felix.apache.org&quot;&gt;Felix Project Team&lt;/a&gt;</span>
<span class="cm"> */</span>
</pre></div>


<p>The following table describes the parts of a class or interface declaration, in the order that they should appear.</p>
<table class="table">
<thead>
<tr>
<th>Part of Class/Interface Declaration</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Class/Interface documentation</td>
<td>According to comment block as shown above.</td>
</tr>
<tr>
<td>Class or interface statement</td>
<td></td>
</tr>
<tr>
<td>Class (static) variables</td>
<td>These should be grouped by functionality rather than by scope.</td>
</tr>
<tr>
<td>Instance variables</td>
<td>These should be grouped by functionality rather than by scope.</td>
</tr>
<tr>
<td>Constructors</td>
<td>Start with the default constructor if any.</td>
</tr>
<tr>
<td>Methods that belong to the class (see also 2.1.3.4 Class methods versus specific interface methods and event methods)</td>
<td>These methods should also be grouped by functionality rather than by scope or accessibility. E.g. a private class method can be in between two public instance methods. The goal is to make reading and understanding the code easier. When implementing an interface, group the methods that are part of the interface.</td>
</tr>
<tr>
<td>Methods of interfaces that are implemented by the class.</td>
<td>Automatically grouped by functionality if grouped by interface.</td>
</tr>
<tr>
<td>Inner classes</td>
<td>As they are only visible within their top-level class, they are placed at the bottom of the file.</td>
</tr>
</tbody>
</table>
<h3 id="indentation">Indentation<a class="headerlink" href="#indentation" title="Permanent link">&para;</a></h3>
<p>Four spaces should be used as unit of indentation. Use spaces or let your editor convert tabs to spaces as some editors might show the tabs different than they were intended! Tabs must be set exactly every 4 spaces.</p>
<h4 id="line-length">Line length<a class="headerlink" href="#line-length" title="Permanent link">&para;</a></h4>
<p>There is no explicit limit for the length of a line. Make sure that the flow of the code is clear and that, when printing the file, it is well formed when using a reasonable font. A reasonable length would be around 80 characters.</p>
<h4 id="wrapping-lines">Wrapping lines<a class="headerlink" href="#wrapping-lines" title="Permanent link">&para;</a></h4>
<p>When an expression will not fit on a single line, break it according to these general principles:
- break after a comma;
- break before an operator;
- prefer higher level breaks to lower level breaks;
- align the new line with the beginning of the expression after the assignment;
- if the above rules lead to confusing code or to code that's squished up against the right margin, please use common sense.</p>
<p>Some examples breaking an arithmetic expression. The first is preferred, since the break occurs outside the parenthesised expression:</p>
<div class="codehilite"><pre><span class="n">longName1</span> <span class="p">=</span> <span class="n">longName2</span> <span class="o">*</span> <span class="p">(</span><span class="n">longName3</span> <span class="o">+</span> <span class="n">longName4</span> <span class="o">-</span> <span class="n">longName5</span><span class="p">)</span>
    <span class="o">+</span> 4<span class="p">;</span> <span class="o">//</span> <span class="n">preferred</span>
<span class="n">longName1</span> <span class="p">=</span> <span class="n">longName2</span> <span class="o">*</span> <span class="p">(</span><span class="n">longName3</span> <span class="o">+</span> <span class="n">longName4</span> 
    <span class="o">-</span> <span class="n">longName5</span><span class="p">)</span> <span class="o">+</span> 4<span class="p">;</span>
</pre></div>


<h3 id="comment">Comment<a class="headerlink" href="#comment" title="Permanent link">&para;</a></h3>
<h4 id="comment-styles">Comment styles<a class="headerlink" href="#comment-styles" title="Permanent link">&para;</a></h4>
<p>The Java language supports three different kinds of comments:</p>
<div class="codehilite"><pre><span class="c1">// text</span>
</pre></div>


<p>The compiler ignores everything from // to the end of the line. Use this style when adding a description or some kind of explanation at the same line of code. </p>
<div class="codehilite"><pre><span class="cm">/* text */</span>
</pre></div>


<p>The compiler ignores everything from /<em> to </em>/. The next documentation style is preferred.</p>
<div class="codehilite"><pre><span class="cm">/** Documentation. */</span>
</pre></div>


<p>This indicates a documentation comment (doc comment, for short). The compiler ignores this kind of comment, just like it ignores comments that use /<em> and </em>/. The JDK JavaDoc tool uses doc comments when preparing automatically generated documentation (See: JavaDoc keywords and HTML tags). But JavaDoc only uses this documentation when it occurs at an expected position in the file like the class definition or a member declaration. </p>
<h4 id="block-comments">Block comments<a class="headerlink" href="#block-comments" title="Permanent link">&para;</a></h4>
<p>Block comments are used to provide English descriptions of the contents of files, the task of methods and the description of data structures and algorithms. Block comments should be used at the beginning of each file and before each method. They can also be used in other places, such as within methods.</p>
<p>For a description of class comment see 2.1.3.3 Class and Interface Declarations. A method block comment looks as follows:</p>
<div class="codehilite"><pre><span class="cm">/**</span>
<span class="cm"> * Position the splitter location at a specified position.</span>
<span class="cm"> * This method can for instance be used when the last position</span>
<span class="cm"> * is stored as a preference setting for the user.</span>
<span class="cm"> *</span>
<span class="cm"> * @param position  New position of divider, defined in pixels</span>
<span class="cm"> *     from the left of the containing window</span>
<span class="cm"> * @see com.sun.java.swing.JSplitPane</span>
<span class="cm"> * @exception org.apache.felix.player.PositionException</span>
<span class="cm"> *     Whenever an invalid position is passed.</span>
<span class="cm"> */</span>
<span class="n">public</span> <span class="k">void</span> <span class="n">setSplitterLocation</span><span class="p">(</span><span class="k">int</span> <span class="n">position</span><span class="p">)</span> <span class="n">throws</span> <span class="n">PositionException</span>
</pre></div>


<h4 id="javadoc-keywords-and-html-tags">JavaDoc keywords and HTML tags<a class="headerlink" href="#javadoc-keywords-and-html-tags" title="Permanent link">&para;</a></h4>
<p>For class headers, method headers and member variables JavaDoc is used in order to generate API documentation from the source later on (See: JavaDoc homepage - Sun Microsystems, Inc.).
A few specific JavaDoc keywords are:</p>
<table class="table">
<thead>
<tr>
<th>Keyword</th>
<th>Short description</th>
</tr>
</thead>
<tbody>
<tr>
<td>@version</td>
<td>Can be used to label a specific version of a package or application so the documentation shows this version number also.</td>
</tr>
<tr>
<td>@author</td>
<td>The name entered here is shown as the author.</td>
</tr>
<tr>
<td>@param</td>
<td>Used to define one parameter and describe this parameter.</td>
</tr>
<tr>
<td>@see</td>
<td>When there are similarities with another class this tag is used to offer the reader a hyperlink to the mentioned class.</td>
</tr>
<tr>
<td>@exception or @throws</td>
<td>Offered as hyperlink to the exception that can be thrown by a method.</td>
</tr>
<tr>
<td>@return</td>
<td>Return value of a method</td>
</tr>
</tbody>
</table>
<p>Some HTML-tags that can be used in order to make the comment blocks more readable:</p>
<table class="table">
<thead>
<tr>
<th>Tag</th>
<th>Short description</th>
</tr>
</thead>
<tbody>
<tr>
<td><p></td>
<td>New paragraph.</td>
</tr>
<tr>
<td><br></td>
<td>Break, a carriage return. For separation of two paragraphs, usage of <p> is preferred.</td>
</tr>
<tr>
<td><ul><li></li></ul></td>
<td>Unordered list of items; each item should start with a <li> tag. By most browsers, this is formatted as a bulleted list.</td>
</tr>
<tr>
<td><code></code></td>
<td>Code samples; use this when refering to class names, method names, parameter names, etc.</td>
</tr>
<tr>
<td><pre></pre></td>
<td>Preformatted text. Use these tags to protect figures and schemas "drawn" in Ascii, against formatting by the browser (which normally ignores whitespace and line breaks)</td>
</tr>
<tr>
<td><dl><dt></dt><dd></dd></dl></td>
<td>Definition lists; <dt> specifies the term that is defined and <dd> the definition of this term. Not frequently used.</td>
</tr>
</tbody>
</table>
<p>Note: there is no need to embed the parameter name in the @param tag in <code> tags; this is done by javadoc automatically. The same holds for the exception name in the @exception or @throws tag. In the clarifying text however, use the <code> tags when refering to parameter names etc. The example below shows the <code> tag being used for the array parameter in the text, but not in its definition. </p>
<p>Example:</p>
<div class="codehilite"><pre><span class="cm">/**</span>
<span class="cm"> * Prints a range from an object array. The range</span>
<span class="cm"> * is specified by the first element to print, and</span>
<span class="cm"> * ranges to the last element of the array.</span>
<span class="cm"> *</span>
<span class="cm"> * @param array contains the objects to print</span>
<span class="cm"> * @param first index of first element in </span>
<span class="cm"> *     the &lt;code&gt;array&lt;/code&gt; to print</span>
<span class="cm"> */</span>
<span class="n">public</span> <span class="k">void</span> <span class="n">printRange</span><span class="p">(</span><span class="n">Object</span><span class="p">[]</span> <span class="n">array</span><span class="p">,</span> <span class="k">int</span> <span class="n">first</span><span class="p">)</span>
</pre></div>


<h2 id="java-syntax-and-its-layout">Java syntax and its layout<a class="headerlink" href="#java-syntax-and-its-layout" title="Permanent link">&para;</a></h2>
<h3 id="declarations">Declarations<a class="headerlink" href="#declarations" title="Permanent link">&para;</a></h3>
<p>When declaring a variable or method make the accessibility as restrictive as possible. When using multiple keywords use the following ordering of keywords:</p>
<ol>
<li>accessibility
  Start with the accessibility as it makes clear if the method or variable is reachable at all.</li>
<li>static (if applicable)</li>
<li>final (if applicable)</li>
<li>return type (methods only) or type (for variables)
  The type is for readability as close as possible to the name.</li>
</ol>
<p>This order is also compatible with the order that is used in Java for the main() method. This results in following sequence:</p>
<div class="codehilite"><pre><span class="c1">// A familiar one:</span>
<span class="n">public</span> <span class="k">static</span> <span class="k">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{}</span>
<span class="n">private</span> <span class="k">static</span> <span class="n">String</span> <span class="n">m_lastCreated</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
<span class="n">private</span> <span class="k">static</span> <span class="k">final</span> <span class="k">int</span> <span class="no">RED</span> <span class="o">=</span> <span class="mh">4711</span><span class="p">;</span>
</pre></div>


<h4 id="number-per-line">Number per line<a class="headerlink" href="#number-per-line" title="Permanent link">&para;</a></h4>
<p>One declaration per line is recommended since it encourages commenting and it does not lead to confusing code. It also is more clear about the explicit initialization of variables as discussed in Initialization.</p>
<p>Example:</p>
<div class="codehilite"><pre><span class="n">int</span> <span class="n">level</span> <span class="p">=</span> 0<span class="p">;</span>           <span class="o">//</span> <span class="n">level</span> <span class="n">where</span> <span class="n">user</span> <span class="n">enters</span> <span class="n">the</span> <span class="n">system</span>
<span class="n">int</span> <span class="n">horizontalSize</span> <span class="p">=</span> 0<span class="p">;</span>  <span class="o">//</span> <span class="n">horizontal</span> <span class="nb">size</span> <span class="n">of</span> <span class="n">current</span> <span class="n">level</span> <span class="n">layer</span>
</pre></div>


<p>is preferred over:</p>
<div class="codehilite"><pre><span class="n">int</span> <span class="n">level</span><span class="p">,</span> <span class="n">horizontalSize</span><span class="p">;</span> <span class="o">//</span> <span class="n">level</span> <span class="n">and</span> <span class="nb">size</span> <span class="n">of</span> <span class="n">current</span> <span class="n">level</span> <span class="n">layer</span>
</pre></div>


<h4 id="placement">Placement<a class="headerlink" href="#placement" title="Permanent link">&para;</a></h4>
<p>In a method, declare local variables just before they are needed. This overcomes the problem of a big list of parameters at the beginning of a method and the use of a variable becomes more clearly in the context of the code, .e.g. its initialization.</p>
<h4 id="initialization">Initialization<a class="headerlink" href="#initialization" title="Permanent link">&para;</a></h4>
<p>The initialization of class variables is strictly not necessary because of the default initialization that takes place for these kinds of members. For some types, e.g. Booleans, this requires detailed knowledge of all the default values so it is more clear and explicit to initialize each member. 
Variables that are used and declared within methods must always be initialized explicitly (the compiler will generate an error when you forget this).</p>
<h4 id="class-and-interface-declarations_1">Class and Interface Declarations<a class="headerlink" href="#class-and-interface-declarations_1" title="Permanent link">&para;</a></h4>
<p>When coding Java classes and interfaces, the following formatting rules should be followed:</p>
<ul>
<li>no space between a method and its parameter list</li>
<li>"{" is on a line by itself indented to match its corresponding opening statetment, except when it is a null statement, in which case the "{" should appear on the same line as the opening statement</li>
<li>"}" starts a line by itself indented to match its corresponding opening statement, except when it is a null statement, in which the case the "}" should appear immediately after the "{".</li>
</ul>
<p>Example:</p>
<div class="codehilite"><pre><span class="n">class</span> <span class="n">ShipmoTrial</span> <span class="n">extends</span> <span class="n">Trial</span>
<span class="p">{</span>
    <span class="n">int</span> <span class="n">m_index</span> <span class="p">=</span> 0<span class="p">;</span>

    <span class="n">ShipmoTrial</span><span class="p">(</span><span class="n">int</span> <span class="n">index</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">m_index</span> <span class="p">=</span> <span class="n">index</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">void</span> <span class="n">emptyMethod</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>


<h3 id="statements">Statements<a class="headerlink" href="#statements" title="Permanent link">&para;</a></h3>
<h4 id="simple-statements">Simple statements<a class="headerlink" href="#simple-statements" title="Permanent link">&para;</a></h4>
<p>Each line should contain at most one statement.</p>
<p>Example:</p>
<div class="codehilite"><pre><span class="c1">// Do not use this</span>
<span class="n">argv</span><span class="o">++</span><span class="p">;</span> <span class="n">argc</span><span class="o">++</span><span class="p">;</span>
</pre></div>


<h4 id="compound-statements">Compound statements<a class="headerlink" href="#compound-statements" title="Permanent link">&para;</a></h4>
<p>Compound statements are statements that contain lists of statements enclosed in braces ("{...}"):</p>
<ul>
<li>The enclosed statements should be indented one more level than the compound statement.</li>
<li>The opening brace should be at the end of the line that begins the compound statement; the closing brace should begin a line and be indented to the beginning of the compound statement. </li>
<li>Braces are used around all statements, even single statements, when they are part of a control structure, such as a if-else or for statement. This makes it easier to add statements without accidentally introducing bugs due to forgetting to add braces. </li>
</ul>
<h4 id="if-if-else-if-else-if-else-statements">if, if-else, if else-if else statements<a class="headerlink" href="#if-if-else-if-else-if-else-statements" title="Permanent link">&para;</a></h4>
<p>There are a lot of nested possibilities for if-else constructions. All these variations can be programmed in very cryptic ways that easily and often will lead to buggy code. By being more explicit in the used coding style a lot of confusion can be taken away.</p>
<p>Note: When using only one statement in a compound block brackets are optional. It can be a good practice to use always brackets because mistakes can be made easily when adding a second statement and brackets are forgotten.</p>
<p>The following example illustrates the correct use of brackets in a few different if-then-else constructions:</p>
<div class="codehilite"><pre><span class="k">if</span> <span class="p">(</span><span class="n">condition</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">statement1</span><span class="p">;</span>
    <span class="n">statement2</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="n">statement3</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="n">condition</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">statement1</span><span class="p">;</span>
    <span class="n">statement2</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">condition1</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">statement3</span><span class="p">;</span>
    <span class="n">statement4</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="n">statement5</span><span class="p">;</span>
    <span class="n">statement6</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>Note that in the example the else if construction is started at a new line so the statement can not be overlooked.</p>
<h4 id="switch">switch<a class="headerlink" href="#switch" title="Permanent link">&para;</a></h4>
<p>When using a switch statement use following guidelines:</p>
<ul>
<li>Every switch statement should include a default case. The break in the default case is redundant, but it prevents a fall-through error if later another case is added. </li>
<li>The so-called fall-through construction should be avoided. Only when there are good reasons to use it, make sure that  it is very clear that a fall-through is used (comment it).</li>
</ul>
<p>The next example shows the sample code that uses the guidelines for a switch statement:</p>
<div class="codehilite"><pre><span class="k">switch</span> <span class="p">(</span><span class="n">condition</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">case</span> <span class="n">A</span><span class="p">:</span>
        <span class="n">statements</span><span class="p">;</span>
        <span class="o">//</span> <span class="n">falls</span> <span class="n">through</span> <span class="n">here</span>!!
    <span class="k">case</span> <span class="n">B</span><span class="p">:</span>
        <span class="n">statements</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="n">default</span><span class="p">:</span>
        <span class="n">statements</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h4 id="try-catch">try - catch<a class="headerlink" href="#try-catch" title="Permanent link">&para;</a></h4>
<p>A try - catch statement should have the following format:</p>
<div class="codehilite"><pre><span class="k">try</span>
<span class="p">{</span>
    <span class="n">statements</span><span class="p">;</span>
<span class="p">}</span> 
<span class="k">catch</span> <span class="p">(</span><span class="n">ExceptionClass</span> <span class="n">ex</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">statements</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>When using finally to add code that always will be executed this will look like:</p>
<div class="codehilite"><pre><span class="k">try</span>
<span class="p">{</span>
    <span class="n">statements</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">catch</span> <span class="p">(</span><span class="n">ExceptionClass</span> <span class="n">ex</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">statements</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">finally</span>
<span class="p">{</span>
    <span class="n">statements</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>Note that the catch and the finally start at a new line in order to be compliant to the guidelines for if-then-else statements.</p>
<h3 id="white-space">White Space<a class="headerlink" href="#white-space" title="Permanent link">&para;</a></h3>
<h4 id="blank-lines">Blank lines<a class="headerlink" href="#blank-lines" title="Permanent link">&para;</a></h4>
<p>Blank lines improve readability by setting of sections of code that are logically related.</p>
<p>Two blank lines should always be used in the following circumstances:</p>
<ul>
<li>between class and interface definitions;</li>
<li>between a group of methods that belong together (by its functionality or because they are part of the same interface).</li>
</ul>
<p>One blank line should always be used in the following circumstances:</p>
<ul>
<li>between methods;</li>
<li>before a block or single line comment;</li>
<li>between logical sections inside a method to improve readability.</li>
</ul>
<h4 id="blank-spaces">Blank spaces<a class="headerlink" href="#blank-spaces" title="Permanent link">&para;</a></h4>
<p>Blank spaces should be used in the following circumstances:</p>
<ul>
<li>
<p>A keyword followed by a parenthesis should be separated by a space.</p>
<p _="
" class="..
">while (ready == false)</p>
</li>
</ul>
<p>Note that blanks should not be used between a method call and its opening parenthesis. This helps to distinguish keywords from function calls.
- Blanks should appear after commas in argument lists.
- All binary operators except "." should be separated from their operands by spaces. Blanks should never separate unary operators such as unary minus, increment("++") and decrement("--") from their operands.</p>
<div class="codehilite"><pre><span class="n">a</span> <span class="o">+</span><span class="p">=</span> <span class="n">c</span> <span class="o">+</span> <span class="n">d</span><span class="p">;</span>
<span class="n">a</span> <span class="p">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">c</span> <span class="o">*</span> <span class="n">d</span><span class="p">);</span>
<span class="n">xCoord</span><span class="o">++</span><span class="p">;</span>
</pre></div>


<ul>
<li>
<p>The expressions in a for statement should be separated by blanks.</p>
<p>for (expr1; cond1; expr2)</p>
</li>
<li>
<p>Casts should be followed by a blank.</p>
<p>myInstance.doIt((TreeFrame) frame);</p>
</li>
</ul>
<h3 id="naming-conventions">Naming conventions<a class="headerlink" href="#naming-conventions" title="Permanent link">&para;</a></h3>
<p>Naming conventions make programs more understandable by making them easier to read. They can also give information about the function of the identifier.</p>
<table class="table">
<thead>
<tr>
<th>Identifier Type</th>
<th>Rules for Naming</th>
<th>Examples</th>
</tr>
</thead>
<tbody></tbody>
</table>
<table class="table">
<thead>
<tr>
<th>Interfaces</th>
<th align="right">Interface names should be capitalized like class names.</th>
</tr>
</thead>
<tbody></tbody>
</table>
<p>|Constant (static final) variables|Names should be all uppercase with words separated by underscores ("_").|public static final int BLACK = 99;|
|Exceptions|Like class names; always ending in "Exception"|InputException|
|Packages|Lowercase only; avoid lengthy package names; always start with org.apache.felix.|org.apache.felix.demo.bundle|</p>
<p>Note: All Java identifiers are case sensitive.</p>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li>Java Code Conventions - Sun Microsystems, Inc.
  No ref. number, only hyperlink: http://java.sun.com/docs/codeconv/</li>
<li>How to Write Doc Comments for JavaDoc - Sun Microsystems, Inc.
  http://java.sun.com/products/jdk/javadoc/writingdoccomments.html</li>
<li>JavaDoc homepage - Sun Microsystems, Inc.
  http://java.sun.com/products/jdk/javadoc/</li>
<li><a href="https://issues.apache.org/jira/secure/attachment/12419890/Apache+Felix+Eclipse+Template.xml">Eclipse formatting template</a>.</li>
</ul>
      <div class="timestamp" style="margin-top: 30px; font-size: 80%; text-align: right;">
        Rev. 1712598 by cziegeler on Wed, 4 Nov 2015 17:48:20 +0000
      </div>
      <div class="trademarkFooter"> 
        Apache Felix, Felix, Apache, the Apache feather logo, and the Apache Felix project
        logo are trademarks of The Apache Software Foundation. All other marks mentioned
        may be trademarks or registered trademarks of their respective owners.
      </div>
    </div>
  </body>
</html>
