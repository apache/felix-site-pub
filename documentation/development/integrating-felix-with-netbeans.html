<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
  <head>
    <title>Apache Felix - Integrating Felix with NetBeans</title>
    <link rel="icon" href="/res/favicon.ico">
    <link rel="stylesheet" href="/res/site.css" type="text/css" media="all">
    <link rel="stylesheet" href="/res/codehilite.css" type="text/css" media="all">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </head>
  <body>
    <div class="title">
      <div class="logo">
        <a href="http://felix.apache.org/">
          <img border="0" alt="Apache Felix" src="/res/logo.png">
        </a>
      </div>
      <div class="header">
        <a href="http://www.apache.org/">
          <img border="0" alt="Apache" src="/res/apache.png">
        </a>
      </div>
    </div>
    
    <div class="menu"> 
      <style type="text/css">
/* The following code is added by mdx_elementid.py
   It was originally lifted from http://subversion.apache.org/style/site.css */
/*
 * Hide class="elementid-permalink", except when an enclosing heading
 * has the :hover property.
 */
.headerlink, .elementid-permalink {
  visibility: hidden;
}
h2:hover > .headerlink, h3:hover > .headerlink, h1:hover > .headerlink, h6:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, dt:hover > .elementid-permalink { visibility: visible }</style>
<p><a href="/news.html">News</a>  <br />
<a href="/license.html">License</a>  <br />
<a href="/downloads.cgi">Downloads</a>  <br />
<a href="/documentation.html">Documentation</a>  <br />
<a href="/mailinglists.html">Mailing Lists</a>  <br />
<a href="/documentation/community/contributing.html">Contributing</a>  <br />
<a href="/sitemap.html">Site Map</a>  <br />
<a href="http://www.apache.org/">ASF</a>  <br />
<a href="http://www.apache.org/security/">Security</a>  <br />
<a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a>  <br />
<a href="http://www.apache.org/foundation/thanks.html">Sponsors</a>    </p>
<iframe
    src="http://www.apache.org/ads/button.html"
    style="border-width:0; float: left"
    frameborder="0"
    scrolling="no"
    width="135"
    height="135">
</iframe>
    </div>
    
    <div class="main">
      <div class="breadcrump" style="font-size: 80%;">
        <a href="/">Home</a>&nbsp;&raquo&nbsp;<a href="/documentation.html">Documentation</a>&nbsp;&raquo&nbsp;<a href="/documentation/development.html">Development</a>
      </div>

      <h1>Integrating Felix with NetBeans</h1>
      <style type="text/css">
/* The following code is added by mdx_elementid.py
   It was originally lifted from http://subversion.apache.org/style/site.css */
/*
 * Hide class="elementid-permalink", except when an enclosing heading
 * has the :hover property.
 */
.headerlink, .elementid-permalink {
  visibility: hidden;
}
h2:hover > .headerlink, h3:hover > .headerlink, h1:hover > .headerlink, h6:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, dt:hover > .elementid-permalink { visibility: visible }</style>
<p>This document explains how to launch Felix inside of the NetBeans IDE, which makes it possible to use NetBeans debugging and profiling facilities on bundles. </p>
<h2 id="preliminaries">Preliminaries<a class="headerlink" href="#preliminaries" title="Permanent link">&para;</a></h2>
<p>To integrate Felix inside of NetBeans you need Felix and NetBeans and nothing else. </p>
<h3 id="installing-netbeans">Installing NetBeans<a class="headerlink" href="#installing-netbeans" title="Permanent link">&para;</a></h3>
<p>First, you need to <a href="http://download.netbeans.org/netbeans/6.1/final/">download the NetBeans IDE</a>. This tutorial was done using NetBeans 6.1, but it should work on NetBeans 6.0. </p>
<h3 id="creation-of-the-felix-binaries">Creation of the Felix binaries<a class="headerlink" href="#creation-of-the-felix-binaries" title="Permanent link">&para;</a></h3>
<p>To integrate Felix with NetBeans, you have two options:</p>
<ol>
<li>Integrate the Felix release as a Java project. This is what we are going to cover in this tutorial.</li>
<li>Integrateg the Felix release using the Maven plugin. This option is slightly more complex and will be covered in another tutorial. </li>
</ol>
<h3 id="using-the-felix-release-as-a-java-project">Using the Felix release as a Java Project<a class="headerlink" href="#using-the-felix-release-as-a-java-project" title="Permanent link">&para;</a></h3>
<p>Once, NetBeans is installed, you need to <a href="http://felix.apache.org/site/downloads.cgi">download Felix</a>. Choose the binary Felix release in your preferred archive format. Extract the release into a temporary directory. We will copy the files into our project later. </p>
<h3 id="building-and-using-the-felix-trunk">Building and using the Felix trunk<a class="headerlink" href="#building-and-using-the-felix-trunk" title="Permanent link">&para;</a></h3>
<p>If you want to use the Felix trunk, follow the <a href="http://felix.apache.org/site/building-felix.html">instructions</a> on the Felix web site to checkout and build the trunk. The Felix binaries are created in the "<code>main</code>" project directory. We will copy these files into our project later.</p>
<h2 id="using-felix-with-netbeans">Using Felix with NetBeans<a class="headerlink" href="#using-felix-with-netbeans" title="Permanent link">&para;</a></h2>
<p>This integration tutorial uses a Java project for the integration. This new project will contain Felix. In the following sections it will be explained how to do this. </p>
<h3 id="creation-of-a-felix-java-project">Creation of a Felix Java project<a class="headerlink" href="#creation-of-a-felix-java-project" title="Permanent link">&para;</a></h3>
<p>First launch NetBeans. Then click on "<code>File-&gt;New-&gt;Project...</code>" menu entry as shown in Figure 1.</p>
<p>!new-project-menu.png!</p>
<p>This action will launch the project creation wizard. From the "<code>Categories</code>" list choose "<code>Java</code>" and from the "<code>Projects</code>" list choose "<code>Java Application</code>" as shown in Figure 2, then press the "<code>Next &gt;</code>" button.</p>
<p>!new-project-type.png!</p>
<p>Enter the project name ("<code>Felix</code>" for example), select your project directory, and uncheck the "<code>Create Main Class</code>" check box then press the finished button. See Figure 3.</p>
<p>!new-project-properties.png!</p>
<h3 id="copying-felix-to-the-newly-created-project">Copying Felix to the newly created project<a class="headerlink" href="#copying-felix-to-the-newly-created-project" title="Permanent link">&para;</a></h3>
<p>Now, remember where you extracted the Felix release or, if you built from source, where the Felix <code>main</code> subproject directory is. Go into the release directory or the <code>main</code> subproject directory and copy its entire contents into your project directory. You can do this any way that is easiest for you. On a Linux box you would do something like this from inside the appropriate release or <code>main</code> directory:</p>
<div class="codehilite"><pre><span class="n">cp</span> <span class="o">-</span><span class="n">r</span> <span class="o">./*</span> <span class="o">/</span><span class="n">project</span><span class="o">-</span><span class="n">path</span><span class="o">/</span>
</pre></div>


<p>Where "<code>/project-path/</code>" is the path to your project directory.</p>
<p>Once you have copied the files, collapse and expand the project. This will make NetBeans refresh the project. If that does not work for you (on NetBeans 6.0 it may not) just close and open it.</p>
<h3 id="preparing-the-felix-project">Preparing the Felix project<a class="headerlink" href="#preparing-the-felix-project" title="Permanent link">&para;</a></h3>
<p>The first thing you will notice is that our new project has a red exclamation point on it. What this means is that when NetBeans parsed the Java files it could not find all the library dependencies, so let's fix that.
Right-click on the newly created project and select the properties as shown in Figure 4.</p>
<p>!project-properties-menu.png!</p>
<p>This will bring up the project properties dialog. Select Libraries as shown in Figure 5.</p>
<p>!project-libraries.png!</p>
<p>Now we want to press the "<code>Add JAR/Folder</code>" button and navigate to your project directory/bin and select the "<code>felix.jar</code>" as shown in Figure 6. NOTE: Make sure the "<code>Use Relative Path</code>" radio button is selected. Then press the "<code>Open</code>" button.</p>
<p>!add-jar-dialog.png!</p>
<p>Your libraries panel should now look like what is shown in Figure 7. You can now press the "<code>OK</code>" button.</p>
<p>!updated-project-libraries.png!</p>
<p>At this point the red exclamation point should should disappear and now we can run Felix. Right click on the project node and select the "<code>Run</code>" menu item as shown in Figure 8.</p>
<p>!project-run-menu.png!</p>
<p>When you do this the "<code>Run Project</code>" dialog will pop-up with a list of all class files with a main method. In our case this will only show the "<code>org.apache.felix.main.Main</code>" class so we select that and press the "<code>OK</code>" button. The "<code>Run Project</code>" dialog is shown in Figure 9.</p>
<p>!run-dialog.png!</p>
<p>After you press the "<code>OK</code>" button in the "<code>Run Project</code>" dialog, Felix will be launched and the output window will open with the Felix command line tool running as shown in Figure 10.</p>
<p>!output-window.png!</p>
<p>At this point you can enter your preferred profile and interact with Felix as if you had launched Felix from a command line shell.</p>
<h3 id="re-launching-felix">Re-launching Felix<a class="headerlink" href="#re-launching-felix" title="Permanent link">&para;</a></h3>
<p>Now that our project is all set up, you only have to select the Run menu item from the project context menu to re-launch Felix. Or if you prefer, if you set Felix as the main project, then you can use "<code>Run</code>" menu on the main menubar. </p>
<h3 id="felix-configuration">Felix Configuration<a class="headerlink" href="#felix-configuration" title="Permanent link">&para;</a></h3>
<p>At this point, you may want to make some changes to the way Felix is configured. In NetBeans you will have to open the "<code>Files</code>" view. Expand the Felix folder and then the "<code>conf</code>" folder as shown in Figure 11. NOTE: When you do this the first time the cache folder will not be there. If you decide to make the configuration changes shown in the next section then it will be created the next time you run Felix.</p>
<p>!conf-folder.png!</p>
<h3 id="configure-the-felix-cache-location">Configure the Felix cache location<a class="headerlink" href="#configure-the-felix-cache-location" title="Permanent link">&para;</a></h3>
<p>Felix stores profiles and deployed bundles inside a cache. Normally this cache is located at "<code>$userhome/.felix</code>". It is possible to change this location in order to clean it quickly and also to keep your development cache separated from other Felix-based applications you may be running on your computer. You may also want to set a default profile so you don't have to enter it every time you launch Felix. </p>
<p>Open the configuration file, called "<code>config.properties</code>". Then, add a new line with "<code>felix.cache.dir=cache</code>" (see Figure 12). And if you want to set a default profile, uncomment the "<code>felix.cache.profile=foo</code>" line and change it to what you want (Figure 12). To clean your cache, just delete the cache directory.</p>
<p>!config-properties-file.png!</p>
<p>The next time you run Felix, the cache directory will be created with in your project. To verify that it did or if you want to clean it use the "<code>Files</code>" view to expand the Felix folder; you should now see a cache folder that was not there before. You can refer to Figure 11 which displays the cache directory from a previous execution of Felix. </p>
<h3 id="add-auto-started-bundles">Add auto-started bundles<a class="headerlink" href="#add-auto-started-bundles" title="Permanent link">&para;</a></h3>
<p>Often you will want Felix to automatically deploy some bundles that you need for your development. You can do this by modifying the "<code>felix.auto.start.1</code>" (or 2) property in the "<code>config.properties</code>" file. For more information on configuring Felix, refer to Felix' <a href="/documentation/subprojects/apache-felix-framework/apache-felix-framework-usage-documentation.html">usage document</a>.</p>
<p>When editing this property, the bundles can be relative or absolute file paths to the bundles you want to auto load. Also don't forget to put the line continuation marker "\" and the end of each line except the last one. In figure 13 you can see the default configuration that is shipped with Felix.</p>
<p>!default-config-properties-file.png!</p>
<h3 id="debugging-bundles">Debugging bundles<a class="headerlink" href="#debugging-bundles" title="Permanent link">&para;</a></h3>
<p>Now that we are able to launch Felix as a Java Application we can use the debugging and profiling features of NetBeans. Future tutorials will go into more detail on how to do this. </p>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h2>
<p>This document has presented one way in which you can integrate Felix with NetBeans. For any questions or feedback, subscribe to the Felix users mailing list by sending a message to <a href="">users-subscribe@felix.apache.org</a>; after subscribing, email questions or feedback to [users@felix.apache.org|mailto:users@felix.apache.org].</p>
      <div class="timestamp" style="margin-top: 30px; font-size: 80%; text-align: right;">
        Rev. 1712598 by cziegeler on Wed, 4 Nov 2015 17:48:20 +0000
      </div>
      <div class="trademarkFooter"> 
        Apache Felix, Felix, Apache, the Apache feather logo, and the Apache Felix project
        logo are trademarks of The Apache Software Foundation. All other marks mentioned
        may be trademarks or registered trademarks of their respective owners.
      </div>
    </div>
  </body>
</html>
