<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       https://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
  <head>
    <title>Apache Felix - Web Console RESTful API</title>
    <link rel="icon" href="/res/favicon.ico">
    <link rel="stylesheet" href="/res/site.css" type="text/css" media="all">
    <link rel="stylesheet" href="/res/codehilite.css" type="text/css" media="all">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </head>
  <body>
    <div class="title">
      <div class="logo">
        <a href="https://felix.apache.org/">
          <img border="0" alt="Apache Felix" src="/res/logo.png">
        </a>
      </div>
      <div class="header">
        <a href="https://www.apache.org/">
          <img border="0" alt="Apache" src="/res/apache.png">
        </a>
      </div>
    </div>
    
    <div class="menu"> 
      <style type="text/css">
/* The following code is added by mdx_elementid.py
   It was originally lifted from http://subversion.apache.org/style/site.css */
/*
 * Hide class="elementid-permalink", except when an enclosing heading
 * has the :hover property.
 */
.headerlink, .elementid-permalink {
  visibility: hidden;
}
h2:hover > .headerlink, h3:hover > .headerlink, h1:hover > .headerlink, h6:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, dt:hover > .elementid-permalink { visibility: visible }</style>
<p><a href="/news.html">News</a>  <br />
<a href="/license.html">License</a>  <br />
<a href="/downloads.cgi">Downloads</a>  <br />
<a href="/documentation.html">Documentation</a>  <br />
<a href="/mailinglists.html">Mailing Lists</a>  <br />
<a href="/documentation/community/contributing.html">Contributing</a>  <br />
<a href="/sitemap.html">Site Map</a>  <br />
<a href="https://www.apache.org/">ASF</a>  <br />
<a href="https://www.apache.org/security/">Security</a>  <br />
<a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a>  <br />
<a href="https://www.apache.org/foundation/thanks.html">Sponsors</a>    </p>
<iframe
    src="https://www.apache.org/ads/button.html"
    style="border-width:0; float: left"
    frameborder="0"
    scrolling="no"
    width="135"
    height="135">
</iframe>
    </div>
    
    <div class="main">
      <div class="breadcrump" style="font-size: 80%;">
        <a href="/">Home</a>&nbsp;&raquo&nbsp;<a href="/documentation.html">Documentation</a>&nbsp;&raquo&nbsp;<a href="/documentation/subprojects.html">Apache Felix Subproject Documentation</a>&nbsp;&raquo&nbsp;<a href="/documentation/subprojects/apache-felix-web-console.html">Apache Felix Web Console</a>
      </div>

      <h1>Web Console RESTful API</h1>
      <style type="text/css">
/* The following code is added by mdx_elementid.py
   It was originally lifted from http://subversion.apache.org/style/site.css */
/*
 * Hide class="elementid-permalink", except when an enclosing heading
 * has the :hover property.
 */
.headerlink, .elementid-permalink {
  visibility: hidden;
}
h2:hover > .headerlink, h3:hover > .headerlink, h1:hover > .headerlink, h6:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, dt:hover > .elementid-permalink { visibility: visible }</style>
<div class="warning" markdown="1">
Please note that the APIs described on this page have not been standardized or stabilized yet. As such they cannot be relied upon. They are merely a description of the current code. In future releases these APIs will be fixed to be properly RESTful.
</div>

<div class="toc">
<ul>
<li><a href="#url-space">URL Space</a></li>
<li><a href="#request-methods">Request Methods</a></li>
<li><a href="#bundles-plugin">Bundles Plugin</a><ul>
<li><a href="#urls">URLs</a></li>
<li><a href="#get-requests">GET Requests</a><ul>
<li><a href="#get-bundlesjson">GET .../bundles.json</a></li>
<li><a href="#get-bundlesidjson">GET .../bundles/id.json</a></li>
</ul>
</li>
<li><a href="#post-requests">POST Requests</a></li>
</ul>
</li>
<li><a href="#services-plugin">Services Plugin</a></li>
<li><a href="#configuration-admin-plugin">Configuration Admin Plugin</a><ul>
<li><a href="#post-requests_1">POST Requests</a><ul>
<li><a href="#create">Create</a></li>
<li><a href="#apply">Apply</a></li>
<li><a href="#delete">Delete</a></li>
<li><a href="#unbind">Unbind</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="url-space">URL Space<a class="headerlink" href="#url-space" title="Permanent link">&para;</a></h2>
<p>The Web Console URL space is by default rooted at <code>/system/console</code> inside the Servlet Context used by the OSGi Http Service. This default can be reconfigured, though this is not really recommended.</p>
<p>It is expected that the Web Console owns the complete URL space below the root path.</p>
<p>The next level in the URL Space of the Web Console is defined by the labels defined by the registered Web Console plugins. For example the Bundles plugins registers itself with the <code>bundles</code> label.</p>
<h2 id="request-methods">Request Methods<a class="headerlink" href="#request-methods" title="Permanent link">&para;</a></h2>
<p>ALthough the HTTP RFC defines a number of request methods and the REST architectural style mandates to use these methods as intended by the specification, Web Browsers in general only support the GET and POST methods. Moreover, firewall administrators more often than not block all HTTP methods except GET and POST. For this reason the Web Console limits the used methods to just these two.</p>
<h2 id="bundles-plugin">Bundles Plugin<a class="headerlink" href="#bundles-plugin" title="Permanent link">&para;</a></h2>
<h3 id="urls">URLs<a class="headerlink" href="#urls" title="Permanent link">&para;</a></h3>
<dl>
<dt><code>.../bundles</code></dt>
<dd>addresses all bundles in the framework</dd>
<dt><code>.../bundles/*id*</code></dt>
<dd>addresses a single bundle in the framework. The <code>*id*</code> can in this case be the bundle's ID
(as per <code>Bundle.getBundleId()</code>), the bundle's symbolic name (which actually may
cause multiple bundles to be addressed), or the bundle's symbolic name and version separated by a colon. Examples are <code>.../bundles/0</code>, <code>.../bundles/org.apache.felix.webconsole</code>, and <code>.../bundles/org.apache.felix.webconsole:3.1.4</code>.</dd>
</dl>
<h3 id="get-requests">GET Requests<a class="headerlink" href="#get-requests" title="Permanent link">&para;</a></h3>
<p>GET requests are used to retrieve information on the bundles (or bundle) available in the framework. To response formats are currently supported: regular HTML and JSON if requests are sent with the <code>.json</code> extension; e.g. <code>.../bundles/0.json</code>. The HTML response is destined at browsers and is not further described here.</p>
<h4 id="get-bundlesjson">GET .../bundles.json<a class="headerlink" href="#get-bundlesjson" title="Permanent link">&para;</a></h4>
<div class="note" markdown="1">
Due to a bug <a href="https://issues.apache.org/jira/browse/FELIX-3132">FELIX-3132</a> the form `.../bundles.json` only works in builds after SVN Revision 1175527. As a workaround request `.../bundles/.json`
</div>

<p>Request to this URL sends back an overview of all bundles along with an overview of all bundles (bundles existing, active, fragment, resolved, installed)</p>
<div class="codehilite"><pre><span class="p">{</span>
   <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Bundle information: 84 bundles in total - all 84 bundles active.&quot;</span><span class="p">,</span>
   <span class="nt">&quot;s&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">84</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span>
   <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;System Bundle&quot;</span><span class="p">,</span>
         <span class="nt">&quot;fragment&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
         <span class="nt">&quot;stateRaw&quot;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
         <span class="nt">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;Active&quot;</span><span class="p">,</span>
         <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.8&quot;</span><span class="p">,</span>
         <span class="nt">&quot;symbolicName&quot;</span><span class="p">:</span> <span class="s2">&quot;org.apache.felix.framework&quot;</span><span class="p">,</span>
         <span class="nt">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
      <span class="p">},</span>
      <span class="err">....</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h4 id="get-bundlesidjson">GET .../bundles/id.json<a class="headerlink" href="#get-bundlesidjson" title="Permanent link">&para;</a></h4>
<p>This URL returns detailed information of a bundle like the bundle headers, imported packages, exported packages, importing bundles, registered services.</p>
<div class="codehilite"><pre><span class="p">{</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Bundle information: 84 bundles in total - all 84 bundles active.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;s&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">84</span><span class="p">,</span>
        <span class="mi">81</span><span class="p">,</span>
        <span class="mi">3</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span>
    <span class="p">],</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Apache Felix Web Management Console&quot;</span><span class="p">,</span>
            <span class="nt">&quot;fragment&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="nt">&quot;stateRaw&quot;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
            <span class="nt">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;Active&quot;</span><span class="p">,</span>
            <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;3.1.9.SNAPSHOT&quot;</span><span class="p">,</span>
            <span class="nt">&quot;symbolicName&quot;</span><span class="p">:</span> <span class="s2">&quot;org.apache.felix.webconsole&quot;</span><span class="p">,</span>
            <span class="nt">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;props&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Symbolic Name&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;org.apache.felix.webconsole&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Version&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;3.1.9.SNAPSHOT&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Bundle Location&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;slinginstall:org.apache.felix.webconsole-3.1.6.jar&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Last Modification&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Sun Sep 25 20:59:46 CEST 2011&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Bundle Documentation&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;http://felix.apache.org/site/apache-felix-web-console.html&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Vendor&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;The Apache Software Foundation&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Description&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Web Based Management Console for OSGi Frameworks. See http://felix.apache.org/site/apache-felix-web-console.html for more information on this bundle.&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Start Level&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">5</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Exported Packages&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;org.apache.felix.webconsole,version=3.1.2&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Imported Packages&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;javax.servlet,version=2.5.0 from &lt;a href=&#39;/system/console/bundles/15&#39;&gt;org.apache.felix.http.jetty (15)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;javax.servlet.http,version=2.5.0 from &lt;a href=&#39;/system/console/bundles/15&#39;&gt;org.apache.felix.http.jetty (15)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;org.apache.felix.scr,version=1.6.0 from &lt;a href=&#39;/system/console/bundles/11&#39;&gt;org.apache.felix.scr (11)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;org.osgi.framework,version=1.5.0 from &lt;a href=&#39;/system/console/bundles/0&#39;&gt;org.apache.felix.framework (0)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;org.osgi.service.cm,version=1.3.0 from &lt;a href=&#39;/system/console/bundles/9&#39;&gt;org.apache.felix.configadmin (9)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;org.osgi.service.http,version=1.2.0 from &lt;a href=&#39;/system/console/bundles/15&#39;&gt;org.apache.felix.http.jetty (15)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;org.osgi.service.log,version=1.3.0 from &lt;a href=&#39;/system/console/bundles/6&#39;&gt;org.apache.sling.commons.logservice (6)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;org.osgi.service.metatype,version=1.1.0 from &lt;a href=&#39;/system/console/bundles/12&#39;&gt;org.apache.felix.metatype (12)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;org.osgi.service.packageadmin,version=1.2.0 from &lt;a href=&#39;/system/console/bundles/0&#39;&gt;org.apache.felix.framework (0)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;org.osgi.service.startlevel,version=1.1.0 from &lt;a href=&#39;/system/console/bundles/0&#39;&gt;org.apache.felix.framework (0)&lt;/a&gt;&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Importing Bundles&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;&lt;a href=&#39;/system/console/bundles/19&#39;&gt;org.apache.felix.webconsole.plugins.memoryusage (19)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;&lt;a href=&#39;/system/console/bundles/62&#39;&gt;org.apache.sling.commons.mime (62)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;&lt;a href=&#39;/system/console/bundles/14&#39;&gt;org.apache.sling.extensions.threaddump (14)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;&lt;a href=&#39;/system/console/bundles/20&#39;&gt;org.apache.sling.extensions.webconsolesecurityprovider (20)&lt;/a&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;&lt;a href=&#39;/system/console/bundles/18&#39;&gt;org.apache.sling.jcr.webconsole (18)&lt;/a&gt;&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Service ID &lt;a href=&#39;/system/console/services/369&#39;&gt;369&lt;/a&gt;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;Types: org.apache.felix.webconsole.ConfigurationPrinter&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Service ID &lt;a href=&#39;/system/console/services/370&#39;&gt;370&lt;/a&gt;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;Types: org.apache.felix.webconsole.ConfigurationPrinter&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Service ID &lt;a href=&#39;/system/console/services/371&#39;&gt;371&lt;/a&gt;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;Types: org.apache.felix.webconsole.ConfigurationPrinter&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Service ID &lt;a href=&#39;/system/console/services/372&#39;&gt;372&lt;/a&gt;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;Types: org.apache.felix.webconsole.ConfigurationPrinter&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Service ID &lt;a href=&#39;/system/console/services/373&#39;&gt;373&lt;/a&gt;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;Types: org.apache.felix.webconsole.ConfigurationPrinter&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Service ID &lt;a href=&#39;/system/console/services/374&#39;&gt;374&lt;/a&gt;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;Types: org.apache.felix.webconsole.ConfigurationPrinter&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Service ID &lt;a href=&#39;/system/console/services/375&#39;&gt;375&lt;/a&gt;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;Types: org.apache.felix.webconsole.ConfigurationPrinter&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Service ID &lt;a href=&#39;/system/console/services/376&#39;&gt;376&lt;/a&gt;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;Types: org.osgi.service.cm.ManagedService, org.osgi.service.metatype.MetaTypeProvider&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Service PID: org.apache.felix.webconsole.internal.servlet.OsgiManager&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Description: OSGi Management Console Configuration Receiver&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Vendor: The Apache Software Foundation&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Service ID &lt;a href=&#39;/system/console/services/453&#39;&gt;453&lt;/a&gt;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;Types: org.apache.felix.webconsole.ConfigurationPrinter&quot;</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;Manifest Headers&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;Bnd-LastModified: 1316977184980&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Build-Jdk: 1.6.0_13&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Built-By: fmeschbe&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Bundle-Activator: org.apache.felix.webconsole.internal.OsgiManagerActivator&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Bundle-Description: Web Based Management Console for OSGi Frameworks. See http://felix.apache.org/site/apache-felix-web-console.html for more information on this bundle.&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Bundle-DocURL: http://felix.apache.org/site/apache-felix-web-console.html&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Bundle-License: http://www.apache.org/licenses/LICENSE-2.0.txt&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Bundle-ManifestVersion: 2&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Bundle-Name: Apache Felix Web Management Console&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Bundle-SymbolicName: org.apache.felix.webconsole&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Bundle-Vendor: The Apache Software Foundation&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Bundle-Version: 3.1.9.SNAPSHOT&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Created-By: Apache Maven Bundle Plugin&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;DynamicImport-Package: org.apache.felix.bundlerepository, org.osgi.service.obr&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Export-Package: org.apache.felix.webconsole; uses:=\&quot;javax.servlet, org.osgi.framework, javax.servlet.http\&quot;; version=\&quot;3.1.2\&quot;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Import-Package: javax.servlet; version=\&quot;2.4\&quot;, javax.servlet.http; version=\&quot;2.4\&quot;, org.apache.felix.scr; resolution:=optional; version=\&quot;1.0\&quot;, org.apache.felix.shell; resolution:=optional, org.apache.felix.webconsole; version=\&quot;3.1.2\&quot;, org.osgi.framework, org.osgi.service.cm; resolution:=optional, org.osgi.service.condpermadmin; resolution:=optional, org.osgi.service.deploymentadmin; resolution:=optional, org.osgi.service.http, org.osgi.service.log; resolution:=optional, org.osgi.service.metatype; resolution:=optional, org.osgi.service.packageadmin; resolution:=optional, org.osgi.service.permissionadmin; resolution:=optional, org.osgi.service.prefs; resolution:=optional, org.osgi.service.startlevel; resolution:=optional, org.osgi.service.wireadmin; resolution:=optional&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Manifest-Version: 1.0&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;Tool: Bnd-0.0.255&quot;</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="post-requests">POST Requests<a class="headerlink" href="#post-requests" title="Permanent link">&para;</a></h3>
<p>To update the bundles the <code>action</code> request parameter is used to indicate the action:</p>
<dl>
<dt><code>install</code></dt>
<dd>
<p>Installs (or updates) and optionally starts one or more bundles. Parameters:</p>
<ul>
<li><code>bundlestart</code> -- whether to start newly installed bundles or not. Has no influence on updated bundles.</li>
<li><code>bundlestartlevel</code> -- the start level to set on newly installed bundles. Has no influence on updated bundles.</li>
<li><code>bundlefile</code> -- one or more uploaded files being the bundles to install or update. The manifests in the bundles are inspected to see whether any bundle is an update or new install.</li>
<li><code>refreshPackages</code> -- whether to call <code>PackageAdmin.refreshPackages(Bundle[])</code> with the installed/updated bundles after installation/update.</li>
</ul>
</dd>
<dt><code>start</code></dt>
<dd>Starts the bundle addressed by the request URL.</dd>
<dt><code>stop</code></dt>
<dd>Stops the bundle addressed by the request URL.</dd>
<dt><code>refresh</code></dt>
<dd>Calls <code>PackageAdmin.refreshPackages(Bundle[])</code> with the
bundle as its sole argument thus forcing the bundle to be rewired. The bundle
is required to be addressed by the request URL.</dd>
<dt><code>update</code></dt>
<dd>Calls <code>Bundle.update()</code> on the bundle addressed by the request URL or tries
to update the bundle through the OBR.</dd>
<dt><code>uninstall</code></dt>
<dd>Calls <code>Bundle.uninstall()</code> on the bundle addressed by the request URL. After the
installation the framework must be refreshed (see <code>refreshPackages</code> above).</dd>
<dt><code>refreshPackages</code></dt>
<dd>Calls <code>PackageAdmin.refreshPackages(Bundle[])</code> with a <code>null</code>
argument thus refreshing all pending bundles. This action does not require a bundle
in the URL and just ignores if one is provided.</dd>
</dl>
<p>The response on those actions requiring a bundle is a simple JSON response:</p>
<div class="codehilite"><pre><span class="p">{</span>
    <span class="nt">&quot;fragment&quot;</span><span class="p">:</span> <span class="err">--</span> <span class="err">whether</span> <span class="err">the</span> <span class="err">bundle</span> <span class="err">is</span> <span class="err">a</span> <span class="err">fragement</span>
    <span class="s2">&quot;stateRaw&quot;</span><span class="p">:</span> <span class="err">--</span> <span class="err">the</span> <span class="err">state</span> <span class="err">code</span> <span class="err">of</span> <span class="err">the</span> <span class="err">bundle</span> <span class="err">after</span> <span class="err">executing</span> <span class="err">the</span> <span class="err">action</span>
<span class="p">}</span>
</pre></div>


<p>Since some bundle operations take place asynchronously a short delay of 800ms is inserted before preparing and sending the response.</p>
<p>The response on those actions not taking a bundle is the bundle overview of the bundles in the framework as if requesting <code>.../bundles.json</code>. Again a delay of 800ms is inserted since some operations are executed asynchronously.</p>
<h2 id="services-plugin">Services Plugin<a class="headerlink" href="#services-plugin" title="Permanent link">&para;</a></h2>
<p>TBD</p>
<h2 id="configuration-admin-plugin">Configuration Admin Plugin<a class="headerlink" href="#configuration-admin-plugin" title="Permanent link">&para;</a></h2>
<p>The Configuration Admin Plugin can be accessed directly by sending POST requests to it.</p>
<h3 id="post-requests_1">POST Requests<a class="headerlink" href="#post-requests_1" title="Permanent link">&para;</a></h3>
<p>Configuration handling is done based on the PID of the configuration. Each POST can either contain the PID as a suffix like <code>../PID</code> or with the parameter <code>pid</code>. The parameter <code>pidFilter</code> might contain an additional filter expression.
For the action to execute, the following options are tested, one after the other. As soon as one is executed, the request is processed.</p>
<h4 id="create">Create<a class="headerlink" href="#create" title="Permanent link">&para;</a></h4>
<p>If the parameter <code>create</code>is sent, a new configuration with the PID is created. The value of the parameter is not evaluated.</p>
<h4 id="apply">Apply<a class="headerlink" href="#apply" title="Permanent link">&para;</a></h4>
<p>If the parameter <code>apply</code> is sent, the configuration is changed. The value of the parameter is not evaluated.
The parameter <code>factoryPid</code> might contain the factory pid.
The parameter <code>propertyList</code> contains a comma-separated list of all configuration property names that will be changed by this POST. For each name, the value of the corresponding request parameter is used to set the value. If such a parameter is missing, the property is not changed.</p>
<p>For example to use <code>curl</code> to apply a configuration the following command line can be used:</p>
<div class="codehilite"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">u</span> <span class="n">admin</span><span class="p">:</span><span class="n">admin</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="o">-</span><span class="n">d</span> &quot;<span class="n">apply</span><span class="p">=</span><span class="n">true</span>&quot; <span class="o">-</span><span class="n">d</span> &quot;<span class="n">propertylist</span><span class="p">=</span><span class="n">foo</span><span class="p">,</span><span class="n">bar</span>&quot; <span class="o">-</span><span class="n">d</span> &quot;<span class="n">foo</span><span class="p">=</span>51&quot; <span class="o">-</span><span class="n">d</span> &quot;<span class="n">bar</span><span class="p">=</span><span class="n">hello</span>&quot; <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span>8080<span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">console</span><span class="o">/</span><span class="n">configMgr</span><span class="o">/</span><span class="n">com</span><span class="p">.</span><span class="n">acme</span><span class="p">.</span><span class="n">MyPid</span>
</pre></div>


<p>To create a factory configuration, the special PID <code>[Temporary PID replaced by real PID upon save]</code> must be used, URL encoded. So to create a new factory configuration 
for a factoryPid <code>com.acme.MyFactoryPid</code> the following can be used:</p>
<div class="codehilite"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">u</span> <span class="n">admin</span><span class="p">:</span><span class="n">admin</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="o">-</span><span class="n">d</span> &quot;<span class="n">apply</span><span class="p">=</span><span class="n">true</span>&quot; <span class="o">-</span><span class="n">d</span> &quot;<span class="n">propertylist</span><span class="p">=</span><span class="n">name</span>&quot; <span class="o">-</span><span class="n">d</span> &quot;<span class="n">name</span><span class="p">=</span><span class="n">mycfg</span>&quot; <span class="o">-</span><span class="n">d</span> &quot;<span class="n">factoryPid</span><span class="p">=</span><span class="n">com</span><span class="p">.</span><span class="n">acme</span><span class="p">.</span><span class="n">MyFactoryPid</span>&quot; <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span>8080<span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">console</span><span class="o">/</span><span class="n">configMgr</span><span class="o">/</span><span class="c">%5BTemporary%20PID%20replaced%20by%20real%20PID%20upon%20save%5D</span>
</pre></div>


<h4 id="delete">Delete<a class="headerlink" href="#delete" title="Permanent link">&para;</a></h4>
<p>If the parameters <code>apply</code> and <code>delete</code> are sent, the configuration is removed. The values of the parameters is not evaluated.</p>
<p>Example using <code>curl</code>:</p>
<div class="codehilite"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">u</span> <span class="n">admin</span><span class="p">:</span><span class="n">admin</span>  <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="o">-</span><span class="n">d</span> &quot;<span class="n">apply</span><span class="p">=</span><span class="n">true</span>&quot; <span class="o">-</span><span class="n">d</span> &quot;<span class="n">delete</span><span class="p">=</span><span class="n">true</span>&quot; <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span>8080<span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">console</span><span class="o">/</span><span class="n">configMgr</span><span class="o">/</span><span class="n">com</span><span class="p">.</span><span class="n">acme</span><span class="p">.</span><span class="n">MyPid</span>
</pre></div>


<h4 id="unbind">Unbind<a class="headerlink" href="#unbind" title="Permanent link">&para;</a></h4>
<p>If the parameter <code>unbind</code> is sent, the configuration is unbind.</p>
      <div class="timestamp" style="margin-top: 30px; font-size: 80%; text-align: right;">
        Rev. 1777977 by davidb on Mon, 9 Jan 2017 14:49:42 +0000
      </div>
      <div class="trademarkFooter"> 
        Apache Felix, Felix, Apache, the Apache feather logo, and the Apache Felix project
        logo are trademarks of The Apache Software Foundation. All other marks mentioned
        may be trademarks or registered trademarks of their respective owners.
      </div>
    </div>
  </body>
</html>
