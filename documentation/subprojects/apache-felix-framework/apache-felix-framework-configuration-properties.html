<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
  <head>
    <title>Apache Felix - Apache Felix Framework Configuration Properties</title>
    <link rel="icon" href="/res/favicon.ico">
    <link rel="stylesheet" href="/res/site.css" type="text/css" media="all">
    <link rel="stylesheet" href="/res/codehilite.css" type="text/css" media="all">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </head>
  <body>
    <div class="title">
      <div class="logo">
        <a href="http://felix.apache.org/">
          <img border="0" alt="Apache Felix" src="/res/logo.png">
        </a>
      </div>
      <div class="header">
        <a href="http://www.apache.org/">
          <img border="0" alt="Apache" src="/res/apache.png">
        </a>
      </div>
    </div>
    
    <div class="menu"> 
      <p><a href="/news.html">news</a>  <br />
<a href="/license.html">license</a>  <br />
<a href="/downloads.cgi">downloads</a>  <br />
<a href="/documentation.html">documentation</a>  <br />
<a href="/mailinglists.html">mailing lists</a>  <br />
<a href="/documentation/community/contributing.html">contributing</a>  <br />
<a href="/sitemap.html">site map</a>  <br />
<a href="http://www.apache.org/">asf</a>  <br />
<a href="http://www.apache.org/security/">security</a>  <br />
<a href="http://www.apache.org/foundation/sponsorship.html">sponsorship</a>  <br />
<a href="http://www.apache.org/foundation/thanks.html">sponsors</a>    </p>
<iframe
    src="http://www.apache.org/ads/button.html"
    style="border-width:0; float: left"
    frameborder="0"
    scrolling="no"
    width="135"
    height="135">
</iframe>
    </div>
    
    <div class="main">
      <div class="breadcrump" style="font-size: 80%;">
        <a href="/">Home</a>&nbsp;&raquo&nbsp;<a href="/documentation.html">Documentation</a>&nbsp;&raquo&nbsp;<a href="/documentation/subprojects.html">Apache Felix Subproject Documentation</a>&nbsp;&raquo&nbsp;<a href="/documentation/subprojects/apache-felix-framework.html">Apache Felix Framework</a>
      </div>

      
      <div class="tip">
           This page is a translated version of <a href="/site/apache-felix-framework-configuration-properties.html" target="felix_cwiki">/site/apache-felix-framework-configuration-properties.html</a>. In case of
           doubt you might want to refer to the old page.
      </div>
      
      
      <h1>Apache Felix Framework Configuration Properties</h1>
      <h1 id="apache-felix-framework-configuration-properties">Apache Felix Framework Configuration Properties</h1>
<ul>
<li><a href="">Overview</a></li>
<li><a href="">Framework configuration properties</a></li>
<li><a href="">Launcher configuration properties</a></li>
<li><a href="">Mirgrating from earlier versions</a></li>
<li><a href="">Feedback</a></li>
</ul>
<h2 id="overview">Overview</h2>
<p>This document describes the various configuration properties related to the Apache Felix Framework. Technically, there are framework properties and launcher properties. If you are using the Felix Framework JAR file (i.e., <code>org.apache.felix.framework-x.y.x.jar</code>), then you can only use framework properties. On the other hand, if you are using the Felix Main launcher JAR (i.e., <code>felix.jar</code> or <code>org.apache.felix.main-x.y.z.jar</code>), then you can use both framework and launcher properties. This document will describe both sets of properties.</p>
<p>Note that the framework does not use system properties to find its configuration properties, it only consults the map passed into its constructor. In contrast to bundles, which use <code>BundleContext.getProperty()</code>, which exposes both configuration and system properties at execution time. In the case of overlap, the configuration properties override system properties. As a convenience, if you are using the Felix launcher, it will copy all configuration properties it finds in the system properties to the configuration map passed into the framework constructor, which allows you to set configuration properties on the command line. This feature is <em>not</em> available if you are just using the Felix framework JAR file.</p>
<h2 id="framework-configuration-properties">Framework configuration properties</h2>
<p>The following configuration properties are for the framework (properties starting with "<code>felix</code>" are specific to Felix, while those starting with "<code>org.osgi</code>" are standard OSGi properties):</p>
<ul>
<li><code>org.osgi.framework.executionenvironment</code> - Sets the OSGi execution environment for the framework. The framework tries to set this to a reasonable default value. If you specify a value, it overrides the framework default. Refer to the OSGi specification for appropriate execution environment values.</li>
<li><code>org.osgi.framework.storage</code> - Sets the directory to use as the bundle cache; by default the bundle cache directory is <code>felix-cache</code> in the current working directory. The value should be a valid directory name. The directory name can be either absolute or relative. Relative directory names are relative to the current working directory. The specified directory will be created if it does not exist.</li>
<li><code>felix.cache.rootdir</code> - Sets the root directory used to calculate the bundle cache directory for relative directory names. If <code>org.osgi.framework.storage</code> is set to a relative name, by default it is relative to the current working directory. If this property is set, then it will be calculated as being relative to the specified root directory.</li>
<li><code>org.osgi.framework.storage.clean</code> - Determines whether the bundle cache is flushed. The value can either be "<code>none</code>" or "<code>onFirstInit</code>", where "<code>none</code>" does not flush the bundle cache and "<code>onFirstInit</code>" flushes the bundle cache when the framework instance is first initialized. The default value is "<code>none</code>".</li>
<li><code>felix.cache.filelimit</code> - The integer value of this string sets an upper limit on how many files the cache will open. The default value is zero, which means there is no limit. (Since 4.0)</li>
<li><code>felix.cache.locking</code> - Enables or disables bundle cache locking, which is used to prevent concurrent access to the bundle cache. This is enabled by default, but on older/smaller JVMs file channel locking is not available; set this property to <code>false</code> to disable it.</li>
<li><code>felix.cache.bufsize</code> - Sets the buffer size to be used by the cache; the default value is 4096. The integer value of this string provides control over the size of the internal buffer of the disk cache for performance reasons.</li>
<li><code>org.osgi.framework.system.packages</code> - Specifies a comma-delimited list of packages that should be exported via the System Bundle from the framework class loader. The framework will set this to a reasonable default. If the value is specified, it replaces any default value.</li>
<li><code>org.osgi.framework.system.packages.extra</code> - Specifies a comma-delimited list of packages that should be exported via the System Bundle from the framework class loader in addition to the packages in <code>org.osgi.framework.system.packages</code>. The default value is empty. If a value is specified, it is appended to the list of default or specified packages in <code>org.osgi.framework.system.packages</code>.</li>
<li><code>org.osgi.framework.bootdelegation</code> - Specifies a comma-delimited list of packages that should be made implicitly available to all bundles from the parent class loader. It is recommended not to use this property since it breaks modularity. The default value is empty.</li>
<li><code>org.osgi.framework.bundle.parent</code> - Specifies which class loader is used for boot delegation. Possible values are: <code>boot</code> for the boot class loader, <code>app</code> for the application class loader, <code>ext</code> for the extension class loader, and <code>framework</code> for the framework's class loader. The default is <code>boot</code>.</li>
<li><code>felix.bootdelegation.implicit</code> - Specifies whether the framework should try to guess when to implicitly boot delegate to ease integration with external code. The default value is <code>true</code>.</li>
<li><code>felix.systembundle.activators</code> - A <code>List</code> of <code>BundleActivator</code> instances that are started/stopped when the System Bundle is started/stopped. The specified instances will receive the System Bundle's <code>BundleContext</code> when invoked. (This property cannot be set in the configuration file since it requires instances; it can only be passed into Felix' constructor directly.)</li>
<li><code>felix.log.logger</code> - An instance of <code>Logger</code> that the framework uses as its default logger. (This property cannot be set in the configuration file since it requires an instance; it can only be passed into Felix' constructor directly.)</li>
<li><code>felix.log.level</code> - An integer value indicating the degree of logging reported by the framework; the higher the value the more logging is reported. If zero ('0') is specified, then logging is turned off completely. The log levels match those specified in the OSGi Log Service (i.e., 1 = error, 2 = warning, 3 = information, and 4 = debug). The default value is 1.</li>
<li><code>org.osgi.framework.startlevel.beginning</code> - The initial start level of the framework once it starts execution; the default value is 1.</li>
<li><code>felix.startlevel.bundle</code> - The default start level for newly installed bundles; the default value is 1.</li>
<li><code>felix.service.urlhandlers</code> - Flag to indicate whether to activate the URL Handlers service for the framework instance; the default value is <code>true</code>. Activating the URL Handlers service will result in the <code>URL.setURLStreamHandlerFactory()</code> and <code>URLConnection.setContentHandlerFactory()</code> being called.</li>
</ul>
<h2 id="launcher-configuration-properties">Launcher configuration properties</h2>
<p>The following configuration properties are for the launcher:</p>
<ul>
<li><code>felix.auto.deploy.dir</code> - Specifies the auto-deploy directory from which bundles are automatically deployed at framework startup. The default is the <code>bundle/</code> directory of the current directory.</li>
<li><code>felix.auto.deploy.action</code> - Specifies a comma-delimited list of actions to be performed on bundle JAR files found in the auto-deploy directory. The possible actions are <code>install</code>, <code>update</code>, <code>start</code>, and <code>uninstall</code>. An undefined or blank value is equivalent to disabling auto-deploy processing; there is no default value, so this value must be defined to enable it.</li>
<li><code>felix.auto.install.&lt;n&gt;</code> - Space-delimited list of bundle URLs to automatically install when Felix is started, where <code>&lt;n&gt;</code> is the start level into which the bundle will be installed (e.g., <code>felix.auto.install.2</code>).</li>
<li><code>felix.auto.start.&lt;n&gt;</code> - Space-delimited list of bundle URLs to automatically install and start when Felix is started, where <code>&lt;n&gt;</code> is the start level into which the bundle will be installed (e.g., <code>felix.auto.start.2</code>).</li>
<li><code>felix.shutdown.hook</code> - Specifies whether the launcher should install a shutdown hook to cleanly shutdown the framework on process exit. The default value is <code>true</code>.</li>
</ul>
<h2 id="migrating-from-earlier-versions">Migrating from Earlier Versions</h2>
<p>Apache Felix Framework <code>2.0.0</code> introduced significant configuration property changes. This section describes the differences from older versions of the framework.</p>
<ul>
<li><em>Removed</em>
<strong> <code>felix.embedded.execution</code> - No longer needed, since the framework now never calls <code>System.exit()</code>; the creator of the framework is now always responsible for exiting the VM.
</strong> <code>felix.strict.osgi</code> - No longer needed, since all non-specification features have been removed.
<strong> <code>felix.cache.dir</code> - No longer needed, since Felix no longer uses bundle cache profiles for saving sets of bundles.
</strong> <code>felix.cache.profile</code> - No longer needed, since the framework no longer uses bundle cache profiles for saving sets of bundles.
** <code>felix.fragment.validation</code> - No longer needed, since the framework supports fragments.</li>
<li><em>Renamed</em>
<strong> <code>felix.cache.profiledir</code> - The equivalent of this property is now named <code>org.osgi.framework.storage</code>.
</strong> <code>felix.startlevel.framework</code> - The equivalent of this property is now named <code>org.osgi.framework.startlevel.beginning</code>.</li>
<li><em>Introduced</em>
<strong> <code>org.osgi.framework.system.packages.extra</code> - New property, as described above, added to align with standard framework API.
</strong> <code>org.osgi.framework.storage.clean</code> - New property, as described above, added to align with standard framework API.
** <code>felix.cache.rootdir</code> - Introduced as a result of removing bundle profiles to help resolve relative bundle cache directories.</li>
</ul>
<p>For the most part, these changes are minor and previous behavior achieved from older configuration properties is either easily attained with the new properties or no longer necessary.</p>
<h2 id="feedback">Feedback</h2>
<p>Subscribe to the Felix users mailing list by sending a message to <a href="">users-subscribe@felix.apache.org</a>; after subscribing, email questions or feedback to [users@felix.apache.org|mailto:users@felix.apache.org].</p>
      <div class="timestamp" style="margin-top: 30px; font-size: 80%; text-align: right;">
        Rev. 1422427 by fmeschbe on Sun, 16 Dec 2012 00:36:51 +0000
      </div>
      <div class="trademarkFooter"> 
        Apache Felix, Felix, Apache, the Apache feather logo, and the Apache Felix project
        logo are trademarks of The Apache Software Foundation. All other marks mentioned
        may be trademarks or registered trademarks of their respective owners.
      </div>
    </div>
  </body>
</html>
