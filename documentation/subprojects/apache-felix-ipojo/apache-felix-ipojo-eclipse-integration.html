<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<head>
    <title>Apache Felix - apache-felix-ipojo-eclipse-integration</title>
    <link rel="icon" href="/res/favicon.ico">
    
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The most powerful component model for OSGi">

    
    <link href="/ipojo/web/bootstrap/css/bootstrap-cerulean.css" rel="stylesheet">
    <link href="/ipojo/web/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="/ipojo/web/bootstrap/css/font-awesome.min.css" rel="stylesheet">
    <link href="/ipojo/web/style.css" rel="stylesheet">

    <link rel="stylesheet" href="/ipojo/web/github.css" type="text/css" media="all">


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="/ipojo/web/bootstrap/js/bootstrap.min.js"></script>
    
</head>

<body data-spy="scroll" data-target=".subnav">
    <div class="navbar navbar-fixed-top navbar-inverse">
        <div class="navbar-inner">
            <div class="container">
               <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                 <span class="icon-bar"></span>
                 <span class="icon-bar"></span>
                 <span class="icon-bar"></span>
                </a>
                <a class="brand" href="/documentation/subprojects/apache-felix-ipojo.html">Apache Felix iPOJO</a>
         
                 <div class="nav-collapse" id="main-menu">
                    <ul class="nav" id="main-menu-left">
                        <li><a href="/documentation/subprojects/apache-felix-ipojo/ipojo-news.html">News</a></li>
                        <li><a href="http://felix.apache.org/downloads.cgi">Downloads</a></li>
                    
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Tutorials <b class="caret"></b></a>
                            <ul class="dropdown-menu" id="tutorials-menu">
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-why-choose-ipojo.html">Why choose iPOJO</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-successstories.html">Success stories</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-feature-overview.html">Features</a></li>
                                <li class="divider"></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/ipojo-in-10-minutes.html">iPOJO in 10 minutes</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/how-to-use-ipojo-annotations.html">Using Annotations</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/ipojo-hello-word-maven-based-tutorial.html">Maven tutorial</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/ipojo-advanced-tutorial.html">Advanced tutorial</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/apache-felix-ipojo-dosgi.html">Using Distributed OSGi</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/ipojo-composition-tutorial.html">Application Composition</a></li>
                            </ul>
                        </li>

                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Documentation <b class="caret"></b></a>
                            <ul class="dropdown-menu" id="user-guide-menu">
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/service-requirement-handler.html">Requiring a service</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/providing-osgi-services.html">Providing a service</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/lifecycle-callback-handler.html">Lifecycle management</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/configuration-handler.html">Configuration</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/architecture-handler.html">Introspection</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/controller-lifecycle-handler.html">Impacting the lifecycle</a></li>
                                <li class="divider"></li>
                                <li class="dropdown-submenu">
                                    <a tabindex="-1" href="#">External <em>handlers</em></a>
                                    <ul class="dropdown-menu">
                                        <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/event-admin-handlers.html">Asynchronous communication</a></li>
                                        <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/ipojo-jmx-handler.html">JMX management</a></li>
                                        <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/extender-pattern-handler.html">Extender pattern</a></li>
                                        <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/white-board-pattern-handler.html">Whiteboard pattern</a></li>
                                        <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/temporal-service-dependency.html">Temporal dependencies</a></li>
                                    </ul>
                                </li>                                            
                                <li class="divider"></li>
                                <li class="dropdown-submenu">
                                    <a tabindex="-1" href="#">Advanced topics</a>
                                    <ul class="dropdown-menu">
                                        <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/ipojo-advanced-topics/combining-ipojo-and-configuration-admin.html">iPOJO and config admin</a></li>
                                        <li><a href="">Factories and Instances</a></li>
                                        <li><a href="">XML Schemas</a></li>
                                        <li><a href="">API</a></li>
                                        <li><a href="">Testing components</a></li>
                                        <li><a href="">Eclipse Integration</a></li>
                                        <li><a href="">FAQ</a></li>
                                        <li><a href="">Reference Card</a></li>
                                        <li class="divider"></li>
                                        <li><a href="">Handler development</a></li>
                                        <li><a href="">Manipulation Metadata </a></li>
                                        <li><a href="">Dive into the iPOJO Manipulation depths</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>

                        <li class="dropdown" id="tools-menu">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Tools <b class="caret"></b></a>
                            <ul class="dropdown-menu" id="swatch-menu">
                                <li><a href="">Ant Task</a></li>
                                <li><a href="">Eclipse Plugin</a></li>
                                <li><a href="">Maven Plugin</a></li>
                                <li><a href="">`arch` shell command</a></li>
                                <li><a href="">Online Manipulator</a></li>
                                <li><a href="">Webconsole plugin</a></li>
                            </ul>
                        </li>

                        <li class="dropdown" id="community-menu">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Community <b class="caret"></b></a>
                            <ul class="dropdown-menu" id="swatch-menu">
                                <li><a href="">Support</a></li>
                                <li><a href="http://www.apache.org/">ASF</a></li>
                                <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                                <li><a href="http://www.apache.org/foundation/thanks.html">Sponsors</a></li>
                            </ul>
                        </li>

                        <li class="dropdown" id="misc-menu">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Misc <b class="caret"></b></a>
                            <ul class="dropdown-menu" id="swatch-menu">
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-supportedvms.html">Supported JVMs</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-supportedosgi.html">Supported OSGi Implementations</a></li>
                                <li><a href="">Article & Presentations</a></li>
                            </ul>
                        </li>
                    </ul>
                    <ul class="nav pull-right" id="main-menu-right">
                        <li><a rel="tooltip" target="_blank" href="http://felix.apache.org">Apache Felix <i class="icon-share-alt"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>    
    </div>

    <div class="container">
        <div class="content">
            <h1 id="building-and-running-ipojo-bundles-from-eclipse">Building and Running iPOJO bundles from Eclipse</h1>
<p><em>This page explains how to build and run iPOJO bundles without exiting Eclipse and breaking the compile-run cycle. Bundles are executed inside Equinox.</em></p>
<p>{div:class=toc}
[TOC]
{div}</p>
<h2 id="1-import-the-ipojo-bundle-project">1) Import the iPOJO Bundle project</h2>
<p>Download the <a href="">project archive</a> (1.4.2 version is available [here|^MyiPOJOBundle-1.4.2.zip]), and import it as an <em><code>Existing Project into the Workspace</code></em>
!Picture 1.png!!Picture 2.png!!Picture 3.png! 
Then click on <em><code>finish</code></em></p>
<h2 id="2-configure-the-target-platform">2) Configure the target platform</h2>
<p>!Picture 4.png|align=left!
!Picture 5.png|align=right!
The resulting project, you looks like the left picture.</p>
<h2 id="3-develop-you-bundle">3) Develop you bundle</h2>
<p>The imported project contains a very simple component using annotations. But, obviously you can delete/change it. For XML-metadata, use <code>metadata.xml</code> file is in the project root.
{code:java}
@Component
public class MyComponentImpl {</p>
<div class="codehilite"><pre><span class="s-Atom">@</span><span class="nv">Validate</span>
<span class="s-Atom">public</span> <span class="s-Atom">void</span> <span class="nf">start</span><span class="p">()</span> <span class="p">{</span>
    <span class="nv">System</span><span class="p">.</span><span class="s-Atom">out</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="s2">&quot;I&#39;m started !!!&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="s-Atom">@</span><span class="nv">Invalidate</span>
<span class="s-Atom">public</span> <span class="s-Atom">void</span> <span class="nf">stop</span><span class="p">()</span> <span class="p">{</span>
    <span class="nv">System</span><span class="p">.</span><span class="s-Atom">out</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="s2">&quot;I&#39;m leaving :-(...&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>


<p>}</p>
<div class="codehilite"><pre><span class="nv">Once</span> <span class="s-Atom">you&#39;re done, you are able to run your bundle !</span>

<span class="s-Atom">h2. 4) Run your bundle</span>
<span class="s-Atom">!Picture 6.png|align=left!</span>
<span class="s-Atom">Right-click on the ** file and then go on **. Equinox will be started and your iPOJO bundle deployed and started:</span>
<span class="s-Atom">Once run for the first time, you can re-run it from the  icon. In the console view, you get your Equinox shell, and you see your application result. If you don&#39;t</span> <span class="s-Atom">edit</span> <span class="s-Atom">the</span> <span class="s-Atom">given</span> <span class="s-Atom">development</span><span class="p">,</span> <span class="s-Atom">the</span> <span class="s-Atom">output</span> <span class="o">is</span> <span class="nn">as</span><span class="p">:</span>
<span class="p">!</span><span class="nv">Picture</span> <span class="m">8</span><span class="p">.</span><span class="s-Atom">png</span><span class="p">|</span><span class="s-Atom">align</span><span class="o">=</span><span class="s-Atom">center</span><span class="p">!</span>
<span class="s-Atom">\\</span>

<span class="s-Atom">h2</span><span class="p">.</span> <span class="nv">Iterate</span> <span class="p">:-)</span>
<span class="nv">Then</span><span class="p">,</span> <span class="s-Atom">go</span> <span class="s-Atom">back</span> <span class="s-Atom">to</span> <span class="s-Atom">the</span> <span class="s-Atom">step</span> <span class="m">3</span><span class="p">,</span> <span class="s-Atom">change</span> <span class="s-Atom">your</span> <span class="s-Atom">components</span><span class="p">,</span> <span class="s-Atom">and</span> <span class="s-Atom">see</span> <span class="s-Atom">the</span> <span class="s-Atom">new</span> <span class="s-Atom">result</span><span class="p">...</span>
<span class="nv">That</span><span class="err">&#39;</span><span class="s-Atom">s</span> <span class="s-Atom">it</span> <span class="p">!</span>

<span class="s-Atom">h2</span><span class="p">.</span> <span class="nv">Changes</span> <span class="s-Atom">in</span> <span class="s-Atom">the</span> <span class="m">1</span><span class="p">.</span><span class="m">4</span><span class="p">.</span><span class="m">0</span>

<span class="nv">The</span> <span class="m">1</span><span class="p">.</span><span class="m">4</span><span class="p">.</span><span class="m">0</span><span class="o">+</span> <span class="s-Atom">iPOJO</span> <span class="s-Atom">manipulator</span> <span class="s-Atom">allows</span> <span class="s-Atom">manipulating</span> <span class="s-Atom">classes</span> <span class="s-Atom">from</span> <span class="s-Atom">a</span> <span class="nf">directory</span> <span class="p">([</span><span class="nv">FELIX</span><span class="o">-</span><span class="m">943</span><span class="p">|</span><span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s-Atom">cwiki</span><span class="p">.</span><span class="s-Atom">apache</span><span class="p">.</span><span class="s-Atom">org</span><span class="o">/</span><span class="s-Atom">jira</span><span class="o">/</span><span class="s-Atom">browse</span><span class="o">/</span><span class="nv">FELIX</span><span class="o">-</span><span class="m">943</span><span class="p">]).</span> <span class="nv">This</span> <span class="s-Atom">feature</span> <span class="o">is</span> <span class="s-Atom">very</span> <span class="s-Atom">convenient</span> <span class="s-Atom">for</span> <span class="s-Atom">the</span> <span class="nv">Eclipse</span> <span class="s-Atom">integration</span> <span class="s-Atom">because</span> <span class="s-Atom">it</span> <span class="s-Atom">avoids</span> <span class="s-Atom">creating</span> <span class="s-Atom">the</span> <span class="nv">Jar</span> <span class="s-Atom">and</span> <span class="s-Atom">unzipping</span> <span class="s-Atom">it</span> <span class="s-Atom">inside</span> <span class="s-Atom">the</span> <span class="nv">Eclipse</span> <span class="s-Atom">build</span> <span class="s-Atom">directory</span><span class="p">.</span> <span class="nv">Moreover</span><span class="p">,</span> <span class="s-Atom">it</span> <span class="s-Atom">allows</span> <span class="s-Atom">reusing</span> <span class="s-Atom">the</span> <span class="nv">Java</span> <span class="nv">Eclipse</span> <span class="nf">builder</span> <span class="p">(</span><span class="s-Atom">compiling</span> <span class="s-Atom">classes</span><span class="p">).</span>

<span class="s-Atom">\\</span>
<span class="s-Atom">\\</span>
</pre></div>
        </div>
    </div>

    <hr/>

    <div class="container">
        <footer id="footer">
            <div class="row">
                <div class="trademarkFooter span7"> 
                Apache Felix, Felix, Apache, the Apache feather logo, and the Apache Felix project
                logo are trademarks of The Apache Software Foundation. All other marks mentioned
                may be trademarks or registered trademarks of their respective owners.
                </div>
                <div class="timestamp span3 offset2">
                Rev. 1441864 by fmeschbe on Sun, 3 Feb 2013 06:44:40 +0000
                </div>
            </div>
        </footer>           
    </div>
</body>

<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
    try{
        var pageTracker = _gat._getTracker("UA-1518442-4");
        pageTracker._trackPageview();
    } catch(err) {}
</script>

</html>
