<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<head>
    <title>Apache Felix - Combining iPOJO and Configuration Admin</title>
    <link rel="icon" href="/res/favicon.ico">
    
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The most powerful component model for OSGi">

    
    <link href="/ipojo/web/bootstrap/css/bootstrap-cerulean.css" rel="stylesheet">
    <link href="/ipojo/web/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="/ipojo/web/bootstrap/css/font-awesome.min.css" rel="stylesheet">
    <link href="/ipojo/web/style.css" rel="stylesheet">


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="/ipojo/web/bootstrap/js/bootstrap.min.js"></script>
    
</head>

<body data-spy="scroll" data-target=".subnav">
    <div class="navbar navbar-fixed-top navbar-inverse">
        <div class="navbar-inner">
            <div class="container">
               <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                 <span class="icon-bar"></span>
                 <span class="icon-bar"></span>
                 <span class="icon-bar"></span>
                </a>
                <a class="brand" href="/documentation/subprojects/apache-felix-ipojo.html">Apache Felix iPOJO</a>
         
                 <div class="nav-collapse" id="main-menu">
                    <ul class="nav" id="main-menu-left">
                        <li><a href="/documentation/subprojects/apache-felix-ipojo/ipojo-news.html">News</a></li>
                        <li><a href="http://felix.apache.org/downloads.cgi">Downloads</a></li>
                    
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Tutorials <b class="caret"></b></a>
                            <ul class="dropdown-menu" id="tutorials-menu">
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-why-choose-ipojo.html">Why choose iPOJO</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-successstories.html">Success stories</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-feature-overview.html">Features</a></li>
                                <li class="divider"></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/ipojo-in-10-minutes.html">iPOJO in 10 minutes</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/how-to-use-ipojo-annotations.html">Using Annotations</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/ipojo-hello-word-maven-based-tutorial.html">Maven tutorial</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/ipojo-advanced-tutorial.html ">Advanced tutorial</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/apache-felix-ipojo-dosgi.html">Using Distributed OSGi</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-gettingstarted/ipojo-composition-tutorial.html">Application Composition</a></li>
                            </ul>
                        </li>

                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Documentation <b class="caret"></b></a>
                            <ul class="dropdown-menu" id="user-guide-menu">
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/service-requirement-handler.html">Requiring a service</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/providing-osgi-services.html">Providing a service</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/lifecycle-callback-handler.html">Lifecycle management</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/configuration-handler.html">Configuration</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/architecture-handler.html">Introspection</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/controller-lifecycle-handler.html">Impacting the lifecycle</a></li>
                                <li class="divider"></li>
                                <li class="dropdown-submenu">
                                    <a tabindex="-1" href="#">External <em>handlers</em></a>
                                    <ul class="dropdown-menu">
                                        <li><a href="">Asynchronous communication</a></li>
                                        <li><a href="">JMX management</a></li>
                                        <li><a href="">Extender pattern</a></li>
                                        <li><a href="">Whiteboard pattern</a></li>
                                        <li><a href="">Temporal dependencies</a></li>
                                    </ul>
                                </li>                                            
                                <li class="divider"></li>
                                <li class="dropdown-submenu">
                                    <a tabindex="-1" href="#">Advanced topics</a>
                                    <ul class="dropdown-menu">
                                        <li><a href="">iPOJO and config admin</a></li>
                                        <li><a href="">Factories and Instances</a></li>
                                        <li><a href="">XML Schemas</a></li>
                                        <li><a href="">API</a></li>
                                        <li><a href="">Testing components</a></li>
                                        <li><a href="">Eclipse Integration</a></li>
                                        <li><a href="">FAQ</a></li>
                                        <li><a href="">Reference Card</a></li>
                                        <li class="divider"></li>
                                        <li><a href="">Handler development</a></li>
                                        <li><a href="">Manipulation Metadata </a></li>
                                        <li><a href="">Dive into the iPOJO Manipulation depths</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>

                        <li class="dropdown" id="tools-menu">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Tools <b class="caret"></b></a>
                            <ul class="dropdown-menu" id="swatch-menu">
                                <li><a href="">Ant Task</a></li>
                                <li><a href="">Eclipse Plugin</a></li>
                                <li><a href="">Maven Plugin</a></li>
                                <li><a href="">`arch` shell command</a></li>
                                <li><a href="">Online Manipulator</a></li>
                                <li><a href="">Webconsole plugin</a></li>
                            </ul>
                        </li>

                        <li class="dropdown" id="community-menu">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Community <b class="caret"></b></a>
                            <ul class="dropdown-menu" id="swatch-menu">
                                <li><a href="">Support</a></li>
                                <li><a href="http://www.apache.org/">ASF</a></li>
                                <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                                <li><a href="http://www.apache.org/foundation/thanks.html">Sponsors</a></li>
                            </ul>
                        </li>

                        <li class="dropdown" id="misc-menu">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Misc <b class="caret"></b></a>
                            <ul class="dropdown-menu" id="swatch-menu">
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-supportedvms.html">Supported JVMs</a></li>
                                <li><a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-supportedosgi.html">Supported OSGi Implementations</a></li>
                                <li><a href="">Article & Presentations</a></li>
                            </ul>
                        </li>
                    </ul>
                    <ul class="nav pull-right" id="main-menu-right">
                        <li><a rel="tooltip" target="_blank" href="http://felix.apache.org">Apache Felix <i class="icon-share-alt"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>    
    </div>

    <div class="container">
        <div class="content">
            <h1 id="combining-ipojo-and-configuration-admin">Combining iPOJO and Configuration Admin</h1>
<p><em>This page presents how creating, reconfiguring and destroying iPOJO component instance with the OSGi Configuration Admin.</em></p>
<p>{div:class=toc}
[TOC]
{div}</p>
<h2 id="configuration-admin">Configuration Admin</h2>
<p>The Configuration Admin service is a configuration manager describe in the OSGi R4 Compendium. It allows an operator to set the configuration information of deployed applications The Configuration Admin defines the Configuration as the process of defining the configuration data of applications and assuring that those applications receive that data when they are running. The Configuration Admin is becoming an important piece on OSGi Gateway. It is become the standard way to configure applications on OSGi gateways.</p>
<h2 id="why-using-configuration-admin-with-ipojo">Why using Configuration Admin with iPOJO</h2>
<p>As the configuration admin offer an administration support, it seems reasonable to combine iPOJO and the Configuration Admin to control the gateway. Indeed, thanks to the configuration admin it should be possible to:
<em> Create new component instances
</em> Configuring / reconfiguring these instances
<em> Destroying these instances
</em> Reconfiguring instances by using Managed Services (not addressed in this page, see <a href="/documentation/subprojects/apache-felix-ipojo/apache-felix-ipojo-userguide/describing-components/configuration-handler.html">here</a> for further information)</p>
<p>The configuration admin is persistent, so stored configuration will be reload it the framework restarts.
Moreover, using the configuration admin allows avoiding describing instances inside iPOJO metadata file. These instances are created by inserting new configurations in the configuration admin.</p>
<h2 id="combining-ipojo-and-the-configuration-admin">Combining iPOJO and the Configuration Admin</h2>
<p>iPOJO has a component type concept. For each (public) component type, a <code>ManagedServiceFactory</code> is published. For each configurations matching with the component type from the Configuration Admin, a new component instance is created. Moreover, when this configuration is updated, the instance is dynamically reconfigured. If the configuration is removed, the instance is disposed.</p>
<p>If a new Configuration is created:
<em> If the factory is available or an instance is create immediately,
</em> Else the factory is not available and the instance will be created as soon as the factory appears.</p>
<h2 id="examples">Examples</h2>
<p>This section presents 3 examples about the management of iPOJO instances with the configuration admin:
<em> A simple instantiation example and destruction
</em> An instantiation with property injection and dynamic reconfiguration
* A property propagation example</p>
<p>All these examples are downloadable <a href="http://people.apache.org/~clement/ipojo/tutorials/ca/config.admin.tutorial.zip">here</a>. The archive contains both the project sources and a pre-configured version of felix.
To compile the project, launch ant from the <em>config.admin.tutorial</em> directory
Then, you can launch Felix by launching the following command from the <code>felix</code> directory:</p>
<div class="codehilite"><pre><span class="n">Java</span> <span class="o">-</span><span class="n">jar</span> <span class="n">bin</span><span class="o">/</span><span class="n">felix</span><span class="o">.</span><span class="n">jar</span>
</pre></div>


<h3 id="prerequisites">Prerequisites</h3>
<p>Let's take 4 Felix shell commands to manage configuration admin configurations (available in the example archive):
<em> <code>create_conf &lt;type&gt;  &lt;property-key=property-value&gt;\*</code> allows to create a new Factory Configuration attached to the given type. The configuration contains the given properties.
</em> <code>update*conf &lt;configuration*name&gt; &lt; property-key=property-value&gt;\*</code> allows to update the configuration with the given name with the given properties.
<em> <code>delete*conf &lt;configuration*name&gt;</code> allows deleting the configuration with the given name. If the name is 'all', delete all stored configurations.
</em> <code>list_conf</code> allows listing all stored configuration.</p>
<p>Moreover iPOJO and an implementation of the Configuration Admin must be deployed on the gateway:</p>
<div class="codehilite"><pre><span class="o">-&gt;</span> <span class="n">ps</span>
<span class="n">START</span> <span class="n">LEVEL</span> <span class="mi">1</span>
   <span class="n">ID</span>   <span class="n">State</span>         <span class="n">Level</span>  <span class="n">Name</span>
<span class="p">[</span>   <span class="mi">0</span><span class="p">]</span> <span class="p">[</span><span class="n">Active</span>     <span class="p">]</span> <span class="p">[</span>    <span class="mi">0</span><span class="p">]</span> <span class="n">System</span> <span class="n">Bundle</span> <span class="p">(</span><span class="mf">1.0.3</span><span class="p">)</span>
<span class="p">[</span>   <span class="mi">1</span><span class="p">]</span> <span class="p">[</span><span class="n">Active</span>     <span class="p">]</span> <span class="p">[</span>    <span class="mi">1</span><span class="p">]</span> <span class="n">Apache</span> <span class="n">Felix</span> <span class="n">Shell</span> <span class="n">Service</span> <span class="p">(</span><span class="mf">1.0.0</span><span class="p">)</span>
<span class="p">[</span>   <span class="mi">2</span><span class="p">]</span> <span class="p">[</span><span class="n">Active</span>     <span class="p">]</span> <span class="p">[</span>    <span class="mi">1</span><span class="p">]</span> <span class="n">Apache</span> <span class="n">Felix</span> <span class="n">Shell</span> <span class="n">TUI</span> <span class="p">(</span><span class="mf">1.0.0</span><span class="p">)</span>
<span class="p">[</span>   <span class="mi">3</span><span class="p">]</span> <span class="p">[</span><span class="n">Active</span>     <span class="p">]</span> <span class="p">[</span>    <span class="mi">1</span><span class="p">]</span> <span class="n">Apache</span> <span class="n">Felix</span> <span class="n">Bundle</span> <span class="n">Repository</span> <span class="p">(</span><span class="mf">1.0.2</span><span class="p">)</span>
<span class="p">[</span>   <span class="mi">4</span><span class="p">]</span> <span class="p">[</span><span class="n">Active</span>     <span class="p">]</span> <span class="p">[</span>    <span class="mi">1</span><span class="p">]</span> <span class="n">Apache</span> <span class="n">Felix</span> <span class="n">Configuration</span> <span class="n">Admin</span> <span class="n">Service</span> <span class="p">(</span><span class="mf">1.0.10</span><span class="p">)</span> 
<span class="p">[</span>   <span class="mi">5</span><span class="p">]</span> <span class="p">[</span><span class="n">Active</span>     <span class="p">]</span> <span class="p">[</span>    <span class="mi">1</span><span class="p">]</span> <span class="n">Apache</span> <span class="n">Felix</span> <span class="n">iPOJO</span> <span class="p">(</span><span class="mf">1.2.0</span><span class="p">)</span> 
<span class="p">[</span>   <span class="mi">6</span><span class="p">]</span> <span class="p">[</span><span class="n">Active</span>     <span class="p">]</span> <span class="p">[</span>    <span class="mi">1</span><span class="p">]</span> <span class="n">Apache</span> <span class="n">Felix</span> <span class="n">iPOJO</span> <span class="n">Arch</span> <span class="n">Command</span> <span class="p">(</span><span class="mf">1.2.0</span><span class="p">)</span>
</pre></div>


<h3 id="simple-instantiation">Simple Instantiation</h3>
<p>Imagine the following very simple component implementation:
{code:java}
public class Hello1 {
    public Hello1() {
        System.out.println("Hello");
    }
}</p>
<div class="codehilite"><pre><span class="n">The</span> <span class="n">component</span> <span class="n">type</span> <span class="n">is</span> <span class="nb">defined</span> <span class="n">with</span> <span class="n">following</span> <span class="n">metadata:</span>
<span class="p">{</span><span class="n">code:xml</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">component</span> 
    <span class="n">classname</span><span class="o">=</span><span class="s">&quot;org.apache.felix.ipojo.example.ca.component.Hello1&quot;</span> 
    <span class="n">factory</span><span class="o">=</span><span class="s">&quot;hello1&quot;</span> <span class="n">immediate</span><span class="o">=</span><span class="s">&quot;true&quot;</span> <span class="n">architecture</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="o">/&gt;</span>
</pre></div>


<p>The defined component type (<em>Hello1</em>) just creates a Hello1 object when the instance is created (thanks to the <em>immediate</em> attribute).
So if we deploy this bundle and add a consistent configuration we obtain (note that bundle need to be already compiled):</p>
<div class="codehilite"><pre><span class="o">-&gt;</span> <span class="n">start</span> <span class="n">file:</span><span class="o">..\</span><span class="n">config</span><span class="o">.</span><span class="n">admin</span><span class="o">.</span><span class="n">tutorial</span><span class="o">\</span><span class="n">output</span><span class="o">\</span><span class="n">config</span><span class="o">.</span><span class="n">admin</span><span class="o">.</span><span class="n">tutorial</span><span class="o">.</span><span class="n">jar</span>
<span class="o">-&gt;</span> <span class="n">create_conf</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello1</span> 
<span class="n">Insert</span> <span class="n">the</span> <span class="n">configuration</span> <span class="p">:</span> <span class="p">{</span><span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello1</span><span class="p">}</span>
<span class="o">-&gt;</span> <span class="n">Hello</span>
</pre></div>


<p><em>Note</em>: Debug messages from the configuration admin were removed
So as predicted, the Hello message appears. To be really sure of the creating, we can ask for the instance architecture (the component type allows architecture introspection thank to the architecture attribute):</p>
<div class="codehilite"><pre><span class="o">-&gt;</span> <span class="n">arch</span> 
<span class="n">Instance</span> <span class="n">ArchCommand</span> <span class="o">-&gt;</span> <span class="n">valid</span> 
<span class="n">Instance</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello1</span><span class="o">.</span><span class="n">e40fe80a</span><span class="o">-</span><span class="mi">2</span><span class="n">c0d</span><span class="o">-</span><span class="mi">4</span><span class="n">c51</span><span class="o">-</span><span class="n">b00b</span><span class="o">-</span><span class="n">a82565874cd8</span> <span class="o">-&gt;</span> <span class="n">valid</span> 
<span class="o">-&gt;</span> 
<span class="o">-&gt;</span> <span class="n">arch</span> <span class="o">-</span><span class="n">instance</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello1</span><span class="o">.</span><span class="n">e40fe80a</span><span class="o">-</span><span class="mi">2</span><span class="n">c0d</span><span class="o">-</span><span class="mi">4</span><span class="n">c51</span><span class="o">-</span><span class="n">b00b</span><span class="o">-</span><span class="n">a82565874cd8</span> 
<span class="n">instance</span> <span class="n">name</span><span class="o">=</span>
    <span class="s">&quot;org.apache.felix.ipojo.example.ca.component.Hello1.e40fe80a-2c0d-4c51-b00b-a82565874cd8&quot;</span> 
        <span class="n">component</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="s">&quot;hello1&quot;</span> 
        <span class="n">state</span><span class="o">=</span><span class="s">&quot;valid&quot;</span> <span class="n">bundle</span><span class="o">=</span><span class="s">&quot;7&quot;</span> 
    <span class="n">object</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;org.apache.felix.ipojo.example.ca.component.Hello1@120cc56&quot;</span> 
    <span class="n">handler</span> 
        <span class="n">name</span><span class="o">=</span><span class="s">&quot;org.apache.felix.ipojo.handlers.lifecycle.callback.LifecycleCallbackHandler&quot;</span> 
        <span class="n">state</span><span class="o">=</span><span class="s">&quot;valid&quot;</span> 
    <span class="n">handler</span> 
        <span class="n">name</span><span class="o">=</span><span class="s">&quot;org.apache.felix.ipojo.handlers.architecture.ArchitectureHandler&quot;</span> 
        <span class="n">state</span><span class="o">=</span><span class="s">&quot;valid&quot;</span> 
<span class="o">-&gt;</span>
</pre></div>


<p>So, the instance is correctly created. The name of the instance was created by the configuration admin. It could change according to your configuration admin implementation.
Then, we can delete the instance by removing the configuration from the configuration admin:</p>
<div class="codehilite"><pre><span class="o">-&gt;</span> <span class="n">delete_conf</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello1</span><span class="o">.</span><span class="n">e40fe80a</span><span class="o">-</span><span class="mi">2</span><span class="n">c0d</span><span class="o">-</span><span class="mi">4</span><span class="n">c51</span><span class="o">-</span><span class="n">b00b</span><span class="o">-</span><span class="n">a82565874cd8</span> 
<span class="n">Delete</span> <span class="n">the</span> <span class="n">configuration</span> <span class="p">:</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello1</span><span class="o">.</span><span class="n">e40fe80a</span><span class="o">-</span><span class="mi">2</span><span class="n">c0d</span><span class="o">-</span><span class="mi">4</span><span class="n">c51</span><span class="o">-</span><span class="n">b00b</span><span class="o">-</span><span class="n">a82565874cd8</span> 
<span class="o">-&gt;</span> <span class="n">arch</span> 
<span class="n">Instance</span> <span class="n">ArchCommand</span> <span class="o">-&gt;</span> <span class="n">valid</span>
</pre></div>


<p>So, arch does no more displayed any <em>hello</em> instances, the created instance was disposed.</p>
<h3 id="reconfiguring-instances-with-the-configuration-admin">Reconfiguring instances with the Configuration Admin</h3>
<p>Imagine the following component implementation:
{code:java}
public class Hello2 {
     String m_name;
    public void stop() {
        System.out.println("Good by " + m_name);
    }
    public void setName(String newName) {
        m_name = newName;
        System.out.println("Hello " + m_name);
    }</p>
<div class="codehilite"><pre>And the following metadata:
{code:xml}
<span class="nt">&lt;component</span> 
        <span class="na">classname=</span><span class="s">&quot;org.apache.felix.ipojo.example.ca.component.Hello2&quot;</span> 
        <span class="na">factory=</span><span class="s">&quot;hello2&quot;</span> <span class="na">immediate=</span><span class="s">&quot;true&quot;</span> <span class="na">architecture=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;callback</span> <span class="na">transition=</span><span class="s">&quot;validate&quot;</span> <span class="na">method=</span><span class="s">&quot;stop&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;properties&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">field=</span><span class="s">&quot;m_name&quot;</span> <span class="na">name=</span><span class="s">&quot;to&quot;</span> <span class="na">method=</span><span class="s">&quot;setName&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/properties&gt;</span>
<span class="nt">&lt;/component&gt;</span>
</pre></div>


<p>The defined component type (<em>Hello2</em>) write "Hello + $name" when the property 'to' (attached to the field m_name) receive a new value. A value is necessary insert in the instance configuration. Moreover when killed, the instance will display a "Good By" message.
Let's play a simple scenario:
<em> Create a Hello2 instance
</em> Update the instance configuration
* Kill the created instance</p>
<div class="codehilite"><pre><span class="o">-&gt;</span> <span class="n">create_conf</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span> <span class="n">to</span><span class="o">=</span><span class="n">ipojo</span> 
<span class="n">Insert</span> <span class="n">the</span> <span class="n">configuration</span> <span class="p">:</span> 
<span class="p">{</span><span class="n">service</span><span class="o">.</span><span class="n">factoryPid</span><span class="o">=</span><span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">ipojo</span><span class="p">}</span> 
<span class="n">Created</span> <span class="n">configuration:</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="mf">.75082279</span><span class="o">-</span><span class="mi">9</span><span class="n">b4b</span><span class="o">-</span><span class="mi">4</span><span class="n">c49</span><span class="o">-</span><span class="n">b0e0</span><span class="o">-</span><span class="mi">8</span><span class="n">efb38b67aa3</span> 
<span class="n">Hello</span> <span class="n">ipojo</span> 
<span class="o">-&gt;</span> <span class="n">list_conf</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="mf">.75082279</span><span class="o">-</span><span class="mi">9</span><span class="n">b4b</span><span class="o">-</span><span class="mi">4</span><span class="n">c49</span><span class="o">-</span><span class="n">b0e0</span><span class="o">-</span><span class="mi">8</span><span class="n">efb38b67aa3</span> <span class="p">:</span> 
 <span class="p">{</span><span class="n">service</span><span class="o">.</span><span class="n">pid</span><span class="o">=</span><span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="mf">.75082279</span><span class="o">-</span><span class="mi">9</span><span class="n">b4b</span><span class="o">-</span><span class="mi">4</span><span class="n">c49</span><span class="o">-</span><span class="n">b0e0</span><span class="o">-</span><span class="mi">8</span><span class="n">efb38b67aa3</span><span class="p">,</span> 
  <span class="n">service</span><span class="o">.</span><span class="n">factorypid</span><span class="o">=</span><span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="p">,</span> 
<span class="n">to</span><span class="o">=</span><span class="n">ipojo</span><span class="p">}</span> 
<span class="o">-&gt;</span> <span class="n">update_conf</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="mf">.75082279</span><span class="o">-</span><span class="mi">9</span><span class="n">b4b</span><span class="o">-</span><span class="mi">4</span><span class="n">c49</span><span class="o">-</span><span class="n">b0e0</span><span class="o">-</span><span class="mi">8</span><span class="n">efb38b67aa3</span> <span class="n">to</span><span class="o">=</span><span class="n">felix</span> 
<span class="n">Update:</span> 
<span class="n">pid</span><span class="o">=</span><span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="mf">.75082279</span><span class="o">-</span><span class="mi">9</span><span class="n">b4b</span><span class="o">-</span><span class="mi">4</span><span class="n">c49</span><span class="o">-</span><span class="n">b0e0</span><span class="o">-</span><span class="mi">8</span><span class="n">efb38b67aa3</span> 
<span class="n">Update</span> <span class="n">the</span> <span class="n">configuration</span> <span class="p">:</span> <span class="p">{</span><span class="n">to</span><span class="o">=</span><span class="n">felix</span><span class="p">}</span> 
<span class="n">Hello</span> <span class="n">felix</span> 
<span class="o">-&gt;</span> <span class="n">delete_conf</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="mf">.75082279</span><span class="o">-</span><span class="mi">9</span><span class="n">b4b</span><span class="o">-</span><span class="mi">4</span><span class="n">c49</span><span class="o">-</span><span class="n">b0e0</span><span class="o">-</span><span class="mi">8</span><span class="n">efb38b67aa3</span> 
<span class="n">Delete</span> <span class="n">the</span> <span class="n">configuration</span> <span class="p">:</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="mf">.75082279</span><span class="o">-</span><span class="mi">9</span><span class="n">b4b</span><span class="o">-</span><span class="mi">4</span><span class="n">c49</span><span class="o">-</span><span class="n">b0e0</span><span class="o">-</span><span class="mi">8</span><span class="n">efb38b67aa3</span> 
<span class="n">Good</span> <span class="n">by</span> <span class="n">felix</span><span class="o">-&gt;</span> <span class="n">list_conf</span>
</pre></div>


<p>In this simple scenario, we see that when the configuration is updated, the instance receives the new value. The <em>setName</em> method is immediately invoked to inject the new value. Moreover, when the configuration is deleted, the instance is going to be killed: the "Good Bye" message appears and the instance is disposed.
Obviously it is possible to create several instance of the same type:</p>
<div class="codehilite"><pre><span class="o">-&gt;</span> <span class="n">create_conf</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span> <span class="n">to</span><span class="o">=</span><span class="n">ipojo</span> 
<span class="n">Insert</span> <span class="n">the</span> <span class="n">configuration</span> <span class="p">:</span> 
<span class="p">{</span><span class="n">service</span><span class="o">.</span><span class="n">factoryPid</span><span class="o">=</span><span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">ipojo</span><span class="p">}</span> 
<span class="n">Hello</span> <span class="n">ipojo</span> 
<span class="o">-&gt;</span> <span class="n">create_conf</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span> <span class="n">to</span><span class="o">=</span><span class="n">felix</span> 
<span class="n">Insert</span> <span class="n">the</span> <span class="n">configuration</span> <span class="p">:</span> 
<span class="p">{</span><span class="n">service</span><span class="o">.</span><span class="n">factoryPid</span><span class="o">=</span><span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">felix</span><span class="p">}</span> 
<span class="n">Hello</span> <span class="n">felix</span> 
<span class="o">-&gt;</span> <span class="n">arch</span> 
<span class="n">Instance</span> <span class="n">ArchCommand</span> <span class="o">-&gt;</span> <span class="n">valid</span> 
<span class="n">Instance</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="o">.</span><span class="n">aaf1927c</span><span class="o">-</span><span class="mi">1</span><span class="n">a81</span><span class="o">-</span><span class="mi">490</span><span class="n">d</span><span class="o">-</span><span class="n">bd7b</span><span class="o">-</span><span class="mi">21</span><span class="n">b13d454987</span> <span class="o">-&gt;</span> <span class="n">valid</span> 
<span class="n">Instance</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello2</span><span class="mf">.9344</span><span class="n">fdbe</span><span class="o">-</span><span class="n">c35e</span><span class="o">-</span><span class="mi">4</span><span class="n">afc</span><span class="o">-</span><span class="n">b839</span><span class="o">-</span><span class="n">f7ad0ea59a9d</span> <span class="o">-&gt;</span> <span class="n">valid</span>
</pre></div>


<p>The 'arch' command displays the two created instances.</p>
<div class="info" markdown="1">
**Delete configurations**
you can delete all created configurations with the *delete*conf all_ command
</div>

<h3 id="property-propagation">Property Propagation</h3>
<p>It is possible to propagate the instance configuration to the published service properties. To activate property propagation you need to write the <em>'propagation'</em> attribute in the 'properties' element as in</p>
<div class="codehilite"><pre><span class="nt">&lt;component</span> 
    <span class="na">classname=</span><span class="s">&quot;org.apache.felix.ipojo.example.ca.component.Hello3&quot;</span>
    <span class="na">factory=</span><span class="s">&quot;hello3&quot;</span> <span class="na">architecture=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;provides/&gt;</span>
    <span class="nt">&lt;properties</span> <span class="na">propagation=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">field=</span><span class="s">&quot;m_name&quot;</span> <span class="na">value=</span><span class="s">&quot;clement&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/properties&gt;</span>
<span class="nt">&lt;/component&gt;</span>
</pre></div>


<p>The defined type provides a service. Moreover it supports properties propagation. So all property, except listed one (m_name), will be published inside the provided services.
So create an instance of the Hello3 component type as follow:</p>
<div class="codehilite"><pre><span class="o">-&gt;</span> <span class="n">create_conf</span>  <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span> 
<span class="n">Insert</span> <span class="n">the</span> <span class="n">configuration</span> <span class="p">:</span> 
<span class="p">{</span><span class="n">service</span><span class="o">.</span><span class="n">factoryPid</span><span class="o">=</span><span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span><span class="p">}</span>
</pre></div>


<p>Then, you can check provided services with the <em>services 7</em> command</p>
<div class="codehilite"><pre><span class="o">-&gt;</span> <span class="n">services</span> <span class="mi">7</span> 
<span class="sr">//</span> <span class="n">Factories</span> <span class="ow">and</span> <span class="n">Managed</span> <span class="n">Service</span> <span class="n">factories</span> <span class="sr">//</span> 
<span class="o">----</span> 
<span class="n">factory</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span> 
<span class="n">instance</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span><span class="o">.</span><span class="n">a5ca5901</span><span class="o">-</span><span class="mf">6e20</span><span class="o">-</span><span class="mi">4636</span><span class="o">-</span><span class="mi">8805</span><span class="o">-</span><span class="n">fbca2db1d68b</span> 
<span class="n">objectClass</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">Hello</span> 
<span class="n">service</span><span class="o">.</span><span class="n">factoryPid</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span> 
<span class="n">service</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="mi">69</span> 
<span class="o">-&gt;</span>
</pre></div>


<p>Now, we update the instance configuration with a new property 'p1':</p>
<div class="codehilite"><pre><span class="o">-&gt;</span> <span class="n">update_conf</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span><span class="o">.</span><span class="n">a5ca5901</span><span class="o">-</span><span class="mf">6e20</span><span class="o">-</span><span class="mi">4636</span><span class="o">-</span><span class="mi">8805</span><span class="o">-</span><span class="n">fbca2db1d68b</span> <span class="n">p1</span><span class="o">=</span><span class="n">v1</span> 
<span class="n">Update</span> <span class="n">the</span> <span class="n">configuration</span> <span class="p">:</span> <span class="p">{</span><span class="n">p1</span><span class="o">=</span><span class="n">v1</span><span class="p">}</span> 
<span class="o">-&gt;</span> <span class="n">services</span> <span class="mi">7</span> 
<span class="n">config</span><span class="o">.</span><span class="n">admin</span><span class="o">.</span><span class="n">tutorial</span> <span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="n">provides:</span> 
<span class="sr">//</span> <span class="n">Factories</span> <span class="ow">and</span> <span class="n">Managed</span> <span class="n">Service</span> <span class="n">factories</span> <span class="sr">//</span> 
<span class="o">----</span> 
<span class="n">factory</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span> 
<span class="n">instance</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span><span class="o">.</span><span class="n">a5ca5901</span><span class="o">-</span><span class="mf">6e20</span><span class="o">-</span><span class="mi">4636</span><span class="o">-</span><span class="mi">8805</span><span class="o">-</span><span class="n">fbca2db1d68b</span> 
<span class="n">objectClass</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">Hello</span> 
<span class="n">p1</span> <span class="o">=</span> <span class="n">v1</span> 
<span class="n">service</span><span class="o">.</span><span class="n">factoryPid</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span> 
<span class="n">service</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="mi">69</span>
</pre></div>


<p>Remark that the new property p1 is published. 
Now we can remove this property by reconfiguring the instance with an empty configuration:</p>
<div class="codehilite"><pre><span class="o">-&gt;</span> <span class="n">update_conf</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span><span class="o">.</span><span class="n">a5ca5901</span><span class="o">-</span><span class="mf">6e20</span><span class="o">-</span><span class="mi">4636</span><span class="o">-</span><span class="mi">8805</span><span class="o">-</span><span class="n">fbca2db1d68b</span> 
<span class="n">Update</span> <span class="n">the</span> <span class="n">configuration</span> <span class="p">:</span> <span class="p">{}</span> 
<span class="o">-&gt;</span> <span class="n">services</span> <span class="mi">7</span> 
<span class="n">ConfigAdminExample</span> <span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="n">provides:</span> 
<span class="sr">//</span> <span class="n">Factories</span> <span class="ow">and</span> <span class="n">Managed</span> <span class="n">Service</span> <span class="n">factories</span> <span class="sr">//</span> 
<span class="o">----</span> 
<span class="n">factory</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span> 
<span class="n">instance</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> 
<span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span><span class="o">.</span><span class="n">a5ca5901</span><span class="o">-</span><span class="mf">6e20</span><span class="o">-</span><span class="mi">4636</span><span class="o">-</span><span class="mi">8805</span><span class="o">-</span><span class="n">fbca2db1d68b</span> 
<span class="n">objectClass</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">Hello</span> 
<span class="n">service</span><span class="o">.</span><span class="n">factoryPid</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">felix</span><span class="o">.</span><span class="n">ipojo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">Hello3</span> 
<span class="n">service</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="mi">69</span>
</pre></div>


<p>The service does no more publish the <code>p1</code> property.</p>
<h2 id="conclusion">Conclusion</h2>
<p>This page has presented how to combine the configuration admin and iPOJO. You can also use <a href="http://ipojo-dark-side.blogspot.com/2009/04/ipojo-and-file-install-configuring.html">FileInstall in combination with iPOJO and the Configuration Admin</a>. Subscribe to the Felix users mailing list by sending a message to [mailto:users-subscribe@felix.apache.org]; after subscribing, email questions or feedback to [mailto:users@felix.apache.org]</p>
        </div>
    </div>

    <hr/>

    <div class="container">
        <footer id="footer">
            <div class="row">
                <div class="trademarkFooter span7"> 
                Apache Felix, Felix, Apache, the Apache feather logo, and the Apache Felix project
                logo are trademarks of The Apache Software Foundation. All other marks mentioned
                may be trademarks or registered trademarks of their respective owners.
                </div>
                <div class="timestamp span3 offset2">
                Rev. 1441864 by fmeschbe on Sun, 3 Feb 2013 06:44:40 +0000
                </div>
            </div>
        </footer>           
    </div>
</body>

<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
    try{
        var pageTracker = _gat._getTracker("UA-1518442-4");
        pageTracker._trackPageview();
    } catch(err) {}
</script>

</html>
